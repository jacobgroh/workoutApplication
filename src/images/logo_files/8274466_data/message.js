(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1043:function(e,t,n){"use strict";n.d(t,"b",function(){return u});var o=n(29),r=n(1064),h=n(63),i=n(17),f=n(14),a=n(289),s=n(52),c=n(27),m=n(311),g=n(26),l=n(815),p=n(613),b=n(997),u=function(o,r,e){var i=o.officeHoursResponse;return Object.assign({},o,r,e,{onOpen:function(){var e=o.conversation,t=o.part;r.onOpen(e.id,t.id)},onConversationRead:function(){r.onConversationRead(o.conversation.id)},onComposerOrFormInputClick:function(){r.onComposerOrFormInputClick(o.conversation.id)},onReactionSelect:function(e){r.onReactionSelect(o.conversation.id,e)},onClose:function(){var e=o.conversation;r.onClose(e.id)},onSuggestionClicked:function(e){var t=o.conversation,n=Object(b.c)(t);r.onSuggestionClicked(t,e,n,i)},setComposerSuggestionsDismissed:function(){r.setComposerSuggestionsDismissed(o.conversation.id)}})};t.a=Object(o.connect)(function(e){var t=e.user.isPresent,n=e.app,o=n.name,r=n.userConversationAttachmentsEnabled,i=n.userConversationGifsEnabled,a=e.message.partId,s=Object(m.a)(e)[0],c=f.a.isMobileBrowser(),l=void 0!==a?s.parts.find(function(e){return e.id===a}):function(e){return e.readAt?Object(g.r)(e):Object(g.b)(e)}(s),p=(l||{}).messageType;p=p||"adminReply",l=Object.assign({},l,{messageType:p});var u=Object(h.g)(e),d=e.app.upfrontEmailCollection.upfrontEmailCollectorShowing;return{appName:o,conversation:s,conversationSuggestions:Object(b.a)(e),typeAheadSuggestions:Object(b.d)(e),part:l,userIsPresent:t,isMobile:c,showUploadButton:r,showGifButton:i,shouldShowUpfrontEmailComposer:u,isUpfrontEmailComposerShowing:d,officeHoursResponse:e.app&&e.app.officeHoursResponse}},function(r){return{onOpen:function(e,t){r(Object(a.b)(e,t)),r(Object(a.c)(e,t))},onClose:function(){r(Object(a.a)())},onConversationRead:function(e){r(Object(c.n)(i.a,e))},onComposerOrFormInputClick:function(e){r(Object(a.a)()),r(Object(s.g)(e)),r(Object(c.l)(i.a,e))},onReactionSelect:function(e,t){r(Object(c.k)(i.a,e,t,!1))},onSuggestionClicked:function(e,t,n,o){r(Object(l.a)(i.a,e,t,!1,n,!0,o))},setComposerSuggestionsDismissed:function(e){r(Object(p.b)(e))}}},u)(r.a)},1064:function(e,t,n){"use strict";var o=n(23),r=n.n(o),p=n(0),v=n.n(p),i=n(1069),a=n(1021),f=n(18),s=n(215),c=n(979),l=n(981),u=n(953),d=n(1),h=n(966),m=Object(d.d)("0%{opacity:0;}70%{opacity:0;transform:translateY(20px);}100%{opacity:1;transform:translateY(0);}"),g=Object(d.c)("div",{target:"enffyqv0"})("position:relative;box-sizing:border-box;padding:17px 20px;margin-top:5px;width:100%;height:",Object(d.f)("chatComposerHeightPx"),"px;background-color:",Object(d.f)("inputBackground"),";border-radius:",Object(d.f)("notificationBorderRadiusPx"),"px;border:none;font-size:14px;cursor:pointer;color:",Object(d.f)("inputPlaceholder"),";box-shadow:0 1px 6px rgba(0,0,0,0.06),0 2px 32px rgba(0,0,0,0.16);animation:",m," 750ms ease;",function(e){var t=e.theme,n=e.useBorderlessAvatarOffset;return t.isLeftAlign&&n&&Object(d.b)("margin-left:",-t.borderlessAvatarOffsetWidthPx,"px;width:calc(100% + ",t.borderlessAvatarOffsetWidthPx,"px);")}),b=Object(d.c)("span",{target:"enffyqv1"})({name:"1rju6wc",styles:"display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:140px;line-height:18px;"}),y=Object(d.c)("div",{target:"enffyqv2"})({name:"1cp2t9f",styles:"position:absolute;top:0;right:18px;"}),O=Object(d.c)("span",{target:"enffyqv3"})({name:"pctu5d",styles:"position:relative;float:left;display:inline-block;cursor:pointer;opacity:0.8;transition:opacity 200ms ease;height:51px;margin-top:2px;&:hover{opacity:1;}&:before{position:absolute;top:20px;background-position:center;}svg{position:absolute;top:18px;}"},";width:",18,"px;padding-left:",9,"px;padding-right:",9,"px;svg{height:18px;width:18px;}svg path{fill:",Object(d.f)("grey"),";}&:before{top:18px;}"),C=Object(d.c)(h.a,{target:"enffyqv4"})({name:"g6u7x8",styles:"right:18px;"}),w=Object(d.c)(h.c,{target:"enffyqv5"})({name:"1yphczb",styles:"&:before{top:18px;}"}),S=Object(d.c)(h.j,{target:"enffyqv6"})({name:"1yphczb",styles:"&:before{top:18px;}"});var x=function(r){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=r.call.apply(r,[this].concat(n))||this),"handleDismissClick",function(e){e.stopPropagation(),t.props.onClose()}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.renderComposer=function(){var e=this.props.part.author.firstName;return v.a.createElement(g,{useBorderlessAvatarOffset:!0},v.a.createElement(b,{className:"chat-composer-placeholder"},Object(f.d)("reply_to_name",{name:e})),v.a.createElement(C,null,v.a.createElement(w,null,v.a.createElement(l.a,null)),v.a.createElement(S,null,v.a.createElement(c.a,null))))},t.renderAttributeCollectorCard=function(){var e=this.props,t=e.part,n=e.frameWindow;return v.a.createElement(a.a,{part:t,hasAvatar:!1,isBorderless:!0,isReplyType:!0,frameWindow:n,key:Object(s.a)(JSON.stringify(t))})},t.renderDismissButton=function(){return v.a.createElement(u.b,{onClick:this.handleDismissClick,"aria-label":Object(f.d)("clear")},v.a.createElement("span",null,Object(f.d)("clear")))},t.renderReplyType=function(){switch(this.props.part.replyType){case"attribute_collector":return this.renderAttributeCollectorCard();default:return this.renderComposer()}},t.renderChatCardGroup=function(){var e=this.props,t=e.appName,n=e.part,o=e.frameWindow;return v.a.createElement(i.a,{appName:t,part:n,isBorderless:!0,isMobile:!0,frameWindow:o})},t.render=function(){var e=this.props,t=e.composerState,n=e.onComposerOrFormInputClick;return v.a.createElement(u.a,{className:"intercom-chat",onClick:n},this.renderChatCardGroup(),this.renderDismissButton(),t.visible&&this.renderReplyType())},e}(p.Component),j=n(303),k=n(202),E=n(35),R={name:"145vpms",styles:"left:0;right:auto;"},P=Object(d.c)(k.a,{target:"e1g9h0if0"})("z-index:",Object(E.m)(),";position:fixed;max-width:360px;width:calc(100% - 25px);right:0;",function(e){var t=e.height;return Object(d.b)("bottom:0;height:",t+20,"px;")}," ",function(e){return e.theme.isLeftAlign&&R}," ",function(e){var t=e.theme,n=e.height;return t.isLauncherEnabled&&Object(d.b)("height:",n+t.launcherOffsetBottomPaddingPx+20,"px;")}),_=n(826);function T(e){function t(e){var t=e.height;return l(t)}var n=e.appName,o=e.part,r=e.onClose,i=e.onComposerOrFormInputClick,a=e.composerState,s=Object(p.useState)(0),c=s[0],l=s[1];return v.a.createElement(P,{frameName:"intercom-chat-frame",height:c,title:"Intercom live chat "+Object(f.d)("message")},function(e){return v.a.createElement(v.a.Fragment,null,v.a.createElement(j.a,{onChange:t},v.a.createElement(x,{appName:n,part:o,onClose:r,composerState:a,onComposerOrFormInputClick:i,frameWindow:e})),v.a.createElement(_.a,{appWindow:e}))})}var I=n(973),N=n(950),B=n(964),M=n(984),A=n(19),H=n(1047),F=n(1023),D=n(6),q=n(955),V=n(606);function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return L(z(o=r.call.apply(r,[this].concat(t))||this),"state",{isFooterVisible:!0,isScrolled:!1}),L(z(o),"handleScroll",function(e){var t=o.state.isFooterVisible,n=Object(A.l)(e.target);o.setState({isFooterVisible:t||n<=o.getFooterHeight(),isScrolled:0<e.target.scrollTop}),o.context.closeListModals(e)}),L(z(o),"handleScrollable",function(e){var t=e.scrollHeight-e.clientHeight,n=o.state.isFooterVisible||void 0===o.props.reactionsReply||t<=o.getReactionsVisibilityThreshold();o.setState({isFooterVisible:n})}),L(z(o),"addClickedComposerMetric",function(){var e=o.props,t=e.message.id,n=e.conversationId;Object(D.e)("clicked","composer","in_app","from_full",{message_type:"note",message_id:t,conversation_id:n})}),L(z(o),"handleComposerClick",function(){o.addClickedComposerMetric(),o.props.onComposerClick()}),o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.getReactionsVisibilityThreshold=function(){return this.getFooterHeight()+20},t.getFooterHeight=function(){return this.footer?this.footer.clientHeight:0},t.renderFooter=function(){var e=this.props,t=e.showUploadButton,n=e.showGifButton;return e.showReplyToButton?v.a.createElement(F.a,{onClick:this.handleComposerClick}):v.a.createElement(q.c,{className:"intercom-note-composer",onClick:this.handleComposerClick,"aria-label":Object(f.d)("open_conversation_and_reply")},v.a.createElement(h.f,null,Object(f.d)("reply_to_conversation")),v.a.createElement(h.a,null,n?v.a.createElement(h.e,null,v.a.createElement(H.a,null)):null,v.a.createElement(h.c,null,v.a.createElement(l.a,null)),t?v.a.createElement(h.j,null,v.a.createElement(c.a,null)):null))},t.renderReactionPicker=function(){var e=this.props,t=e.reactionsReply,n=e.onReactionSelect;return v.a.createElement(M.a,W({},t,{onReactionSelect:n}))},t.render=function(){var t=this,e=this.props,n=e.appName,o=e.message,r=e.reactionsReply,i=e.onClose,a=e.frameWindow,s=e.showReplyToButton,c=this.state,l=c.isScrolled,p=c.isFooterVisible,u=o.author,d=o.lastActiveAt,h=o.body;return v.a.createElement(q.e,{className:"intercom-note",isScrolled:l},v.a.createElement(B.a,{appName:n,isReplyStyle:!1,author:u,lastActiveAt:d},v.a.createElement(q.b,{className:"intercom-anchor",onClick:i,"aria-label":Object(f.d)("close")}," "),v.a.createElement(q.a,{showReplyToButton:s},v.a.createElement(I.a,{onScroll:this.handleScroll,onScrollable:this.handleScrollable},v.a.createElement(N.a,{blocks:h,zoomable:!0,frameWindow:a}))),v.a.createElement(q.d,{ref:function(e){return t.footer=e},isFooterVisible:p,showReplyToButton:s},r?this.renderReactionPicker():this.renderFooter())))},e}(p.Component);L(U,"contextType",V.a),U.propTypes={appName:r.a.string.isRequired,message:r.a.shape({id:r.a.string.isRequired,author:r.a.object.isRequired,body:r.a.array.isRequired,lastActiveAt:r.a.instanceOf(Date)}).isRequired,conversationId:r.a.string,reactionsReply:r.a.shape({reactionIndex:r.a.number,reactionSet:r.a.array.isRequired}),onClose:r.a.func,onComposerClick:r.a.func,onReactionSelect:r.a.func,frameWindow:r.a.object,showUploadButton:r.a.bool,showGifButton:r.a.bool,showReplyToButton:r.a.bool},U.defaultProps={showUploadButton:!0,showGifButton:!0};var G={name:"fnfiys",styles:"right:0;left:0;margin:0 auto;"},Y=Object(d.c)(k.a,{target:"e1o2sc8n0"})("position:fixed;bottom:",Object(E.j)(),"px;right:",Object(d.f)("horizontalPaddingPx"),"px;width:342px;z-index:",Object(E.m)(1),";box-shadow:0 3px 32px 0 rgba(0,0,0,0.14);",function(e){var t=e.theme;return t.isLeftAlign&&Object(d.b)("left:",t.horizontalPaddingPx,"px;right:auto;")}," ",function(e){return e.theme.isMobileSize&&G});function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(r){function e(){for(var n,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return K(X(n=r.call.apply(r,[this].concat(t))||this),"state",{height:0}),K(X(n),"handleHeightChange",function(e){var t=e.height;n.setState({height:t})}),n}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var t=this,e=this.props,n=e.conversationId,o=e.appName,r=e.message,i=e.reactionsReply,a=e.showUploadButton,s=e.showGifButton,c=e.onComposerClick,l=e.onReactionSelect,p=e.showReplyToButton,u=e.onClose,d=this.state.height;return v.a.createElement(Y,{style:{height:d},frameName:"intercom-note-frame",title:"Intercom live chat "+Object(f.d)("message")},function(e){return v.a.createElement("span",null,v.a.createElement(j.a,{id:"note-frame",key:"note-frame",onChange:t.handleHeightChange},v.a.createElement(U,{frameWindow:e,conversationId:n,appName:o,message:r,reactionsReply:i,showUploadButton:a,showGifButton:s,onClose:u,onComposerClick:c,onReactionSelect:l,showReplyToButton:p})),v.a.createElement(_.a,{appWindow:e}))})},e}(p.Component),Q=n(1039);function $(){return v.a.createElement(Q.a,{focusable:"false","aria-hidden":"true",width:"16",height:"16",viewBox:"0 0 16 16"},v.a.createElement("path",{d:"M7.357 1.071c.34-.035.679-.071.982-.071 3 0 6.304 2.054 6.625 5.59.018.214.036.428.036.642 0 3.054-2.518 6.179-6.357 6.697A6.958 6.958 0 0 1 7.75 14c-.357 0-.357 0-.75-.071-.91 1.178-1.982 1.482-3.16 1.696a3.184 3.184 0 0 1-.536.054c-.304 0-.733-.143-.536-.34.928-.785 1.036-1.303 1.036-2.214 0-.09 0-.179-.018-.268-1.625-1.107-2.536-2.571-2.75-4.446A7.753 7.753 0 0 1 1 7.768C1 4.714 3.518 1.589 7.357 1.07z"}))}var Z=n(954);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ne(te(o=r.call.apply(r,[this].concat(t))||this),"node",void 0),ne(te(o),"state",{isFooterVisible:!0,isScrolled:!1}),ne(te(o),"footer",void 0),ne(te(o),"handleScroll",function(e){var t=o.state.isFooterVisible,n=Object(A.l)(e.target);o.setState({isFooterVisible:t||n<=o.getFooterHeight(),isScrolled:0<e.target.scrollTop})}),ne(te(o),"handleScrollable",function(e){var t=e.scrollHeight-e.clientHeight,n=o.state.isFooterVisible||void 0===o.props.reactionsReply||t<=o.getReactionsVisibilityThreshold();o.setState({isFooterVisible:n})}),ne(te(o),"isReplyDisabled",function(){return"disabled"===o.props.message.replyType}),ne(te(o),"addClickedComposerMetric",function(){var e=o.props,t=e.message.id,n=e.conversationId;Object(D.e)("clicked","composer","in_app","from_full",{message_type:"pointer",message_id:t,conversation_id:n})}),ne(te(o),"handleComposerClick",function(){o.addClickedComposerMetric(),o.props.onComposerClick()}),o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.getReactionsVisibilityThreshold=function(){return this.getFooterHeight()+20},t.getFooterHeight=function(){return this.footer?this.footer.clientHeight:0},t.renderFooter=function(e){var t=this;return this.isReplyDisabled()?null:v.a.createElement(Z.d,{ref:function(e){return t.footer=e},isFooterVisible:this.state.isFooterVisible},e?this.renderReactionPicker():this.renderChatComposer())},t.renderChatComposer=function(){return v.a.createElement(Z.c,{className:"intercom-pointer-composer",onClick:this.handleComposerClick},v.a.createElement("span",null,v.a.createElement($,null)),v.a.createElement(h.f,null,Object(f.d)("start_a_conversation")))},t.renderReactionPicker=function(){var e=this.props,t=e.reactionsReply,n=e.onReactionSelect;return v.a.createElement(M.a,ee({},t,{onReactionSelect:n}))},t.render=function(){var t=this,e=this.props,n=e.appName,o=e.message,r=e.reactionsReply,i=e.onClose,a=e.frameWindow,s=o.author,c=o.lastActiveAt,l=o.body;return v.a.createElement(Z.e,{isInbox:!1,isScrolled:this.state.isScrolled,ref:function(e){return t.node=e},className:"intercom-pointer"},v.a.createElement(B.a,{appName:n,isReplyStyle:!1,author:s,lastActiveAt:c},v.a.createElement(Z.b,{onClick:i,"aria-label":Object(f.d)("close")}," "),v.a.createElement(Z.a,{intercomRepliesDisabled:this.isReplyDisabled()},v.a.createElement(I.a,{onScroll:this.handleScroll,onScrollable:this.handleScrollable},v.a.createElement(N.a,{blocks:l,zoomable:!0,frameWindow:a}))),this.renderFooter(r)))},e}(p.Component),re=n(1067),ie=Object(d.c)(k.a,{target:"e1lu8yo70"})("z-index:",Object(E.m)(1),";border-radius:5px;box-shadow:0 3px 32px 0 rgba(0,0,0,0.14);border:1px solid rgba(0,0,0,0.1);");function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return se(ae(o=r.call.apply(r,[this].concat(t))||this),"state",{width:0,height:0}),se(ae(o),"handleDimensionFrameSize",function(e){var t=e.height,n=e.width;o.setState({width:n,height:t})}),o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.frameStyles=function(){var e=this.state;return{width:e.width,height:e.height,opacity:1}},t.render=function(){var e=this,t=this.props,n=t.appName,o=t.appWindow,r=t.message,i=t.conversationId,a=t.onClose,s=t.reactionsReply,c=t.onComposerClick,l=t.onReactionSelect;return v.a.createElement(re.a,{appWindow:o,targetSelector:r.pointerSelector,childDimensions:this.frameStyles()},v.a.createElement(ie,{style:this.frameStyles(),frameName:"intercom-pointer-frame",title:"Intercom live chat "+Object(f.d)("pointer")},function(){return v.a.createElement(j.a,{id:"pointer-frame",key:"pointer-frame",onChange:e.handleDimensionFrameSize},v.a.createElement(oe,{appName:n,message:r,conversationId:i,reactionsReply:s,frameWindow:o,onComposerClick:c,onReactionSelect:l,onClose:a}))}))},e}(p.PureComponent),le=n(1050),pe=n(117),ue=n(1066),de=n(1009),he=n.n(de),fe=n(1010),me=n.n(fe),ge={name:"siiwv4",styles:"&:hover .story-dismiss-button{opacity:1;}"},be=Object(d.c)("div",{target:"e18fd67o0"})("z-index:",Object(E.m)(1),";font-size:13px;font-family:",Object(d.f)("fontSansSerif"),";color:",Object(d.f)("bodyText"),";position:relative;",function(e){var t=e.theme;return e.standalone&&Object(d.b)("position:fixed;bottom:",t.verticalPaddingPx,"px;right:",t.horizontalPaddingPx,"px;")}," ",function(e){return e.isVideoLoaded&&ge}," ",function(e){var t=e.theme;return t.isLauncherEnabled&&Object(d.b)("bottom:",t.verticalPaddingPx+t.launcherOffsetBottomPaddingPx,"px;")}),ve={name:"1c9b7w0",styles:"width:240px;height:180px;margin-left:10px;"},ye={name:"dxx3wj",styles:"margin-top:42px;"},Oe={name:"ajzub1",styles:"margin-top:54px;"},Ce=Object(d.c)("div",{target:"e18fd67o1"})("position:relative;overflow:hidden;box-shadow:0px 2px 16px rgba(0,0,0,0.14),0px 1px 6px rgba(0,0,0,0.06);border-radius:5px;transition:transform 150ms ease,width 200ms ease,height 200ms ease,margin 200ms;transform-origin:bottom right;width:340px;height:255px;",function(e){return e.standalone&&Oe}," ",function(e){var t=e.standalone,n=e.isExpanded;return t&&n&&ye}," ",function(e){return e.theme.isMobileSize&&ve}),we=Object(d.c)("div",{target:"e18fd67o2"})("position:absolute;top:0;/* @noflip */ right:0;display:block;opacity:0;transition:opacity 150ms ease;span{display:block;background-color:#5d6c80;opacity:0.8;color:",Object(d.f)("white"),";font-size:13px;height:32px;line-height:32px;padding:0 16px 0 16px;border-radius:16px;cursor:pointer;background-position:center;",Object(E.b)(he.a,me.a,"8px","8px"),";&:hover{opacity:1;}}"),Se=Object(d.c)("div",{target:"e18fd67o3"})("position:absolute;width:100%;z-index:",Object(E.m)(1),";top:0;left:0;right:0;bottom:0;cursor:pointer;"),xe=Object(d.c)("div",{target:"e18fd67o4"})({name:"maq7xh",styles:".chat-composer{margin-top:10px;}&.video-composer-enter{.chat-composer{display:block;height:0;opacity:0;overflow:hidden;padding-top:0;padding-bottom:0;margin-top:0;}.composer-placeholder,.composer-buttons{opacity:0;transition:opacity 200ms ease;transition-delay:200ms;}}&.video-composer-enter-active{.chat-composer{opacity:1;height:52px;padding-top:17px;padding-bottom:17px;transition-property:height,opacity,padding,margin;transition-duration:200ms;transition-timing-function:ease;margin-top:10px;}.composer-placeholder,.composer-buttons{opacity:1;}}"}),je=n(1022);function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Ee(ke(e=r.call.apply(r,[this].concat(n))||this),"video",void 0),Ee(ke(e),"state",{isExpanded:!1,isVideoLoaded:!1}),Ee(ke(e),"handleOverlayClick",function(){e.state.isVideoLoaded&&e.setState({isExpanded:!0})}),Ee(ke(e),"handleVideoLoaded",function(){e.setState({isVideoLoaded:!0})}),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.renderDismissButton=function(){return this.props.standalone?v.a.createElement(we,{className:"story-dismiss-button",onClick:this.props.onClose},v.a.createElement("span",null)):null},t.renderOverlay=function(){return this.state.isExpanded?null:v.a.createElement(Se,{className:"story-overlay",onClick:this.handleOverlayClick})},t.renderComposer=function(){var e=this.props,t=e.part,n=e.onComposerOrFormInputClick,o=t.author.firstName;return v.a.createElement(pe.CSSTransition,{classNames:"video-composer",timeout:{enter:400,exit:400}},v.a.createElement(xe,null,v.a.createElement(g,{className:"chat-composer",onClick:n,"aria-label":Object(f.d)("open_conversation_and_reply"),useBorderlessAvatarOffset:!1},v.a.createElement(b,{className:"composer-placeholder"},Object(f.d)("reply_to_name",{name:o})),v.a.createElement(y,{className:"composer-buttons"},v.a.createElement(O,null,v.a.createElement(l.a,null)),v.a.createElement(O,null,v.a.createElement(c.a,null))))))},t.renderSuggestions=function(){var e=this.props,t=e.onSuggestionClicked,n=e.setComposerSuggestionsDismissed,o=e.conversationSuggestions,r=e.conversation;return v.a.createElement(je.a,{conversation:r,conversationSuggestions:o,setComposerSuggestionsDismissed:n,onClick:t})},t.renderResponseArea=function(){return this.state.isExpanded&&this.props.showResponseArea?this.props.conversationSuggestions?this.renderSuggestions():this.renderComposer():null},t.render=function(){var e=this.props,t=e.part.body,n=e.autoPlay,o=e.standalone,r=this.state,i=r.isExpanded,a=r.isVideoLoaded,s=t[0],c=s.url,l=s.captions,p=s.thumbnailUrl;return v.a.createElement(be,{standalone:o,isVideoLoaded:a},this.renderDismissButton(),v.a.createElement(Ce,{standalone:o,isExpanded:i},this.renderOverlay(),v.a.createElement(ue.a,{srcUrl:c,autoPlay:n,onVideoLoaded:this.handleVideoLoaded,captions:l,thumbnailUrl:p})),v.a.createElement(pe.TransitionGroup,null,this.renderResponseArea()))},e}(p.Component);Ee(Re,"defaultProps",{standalone:!1,onClose:function(){},showResponseArea:!0,autoPlay:!1});var Pe=Object(d.c)(k.a,{target:"elkwj510"})("z-index:",Object(E.m)(),";position:fixed;right:0;bottom:0;width:100vw;height:100vh;");function _e(e){var t=e.conversation,n=e.standalone,o=e.part,r=e.onClose,i=e.onComposerOrFormInputClick,a=e.conversationSuggestions,s=e.onSuggestionClicked,c=e.setComposerSuggestionsDismissed;return v.a.createElement(Pe,{frameName:"intercom-story-frame"},function(e){return v.a.createElement(v.a.Fragment,null,v.a.createElement(Re,{conversation:t,standalone:n,part:o,onClose:r,onComposerOrFormInputClick:i,conversationSuggestions:a,onSuggestionClicked:s,setComposerSuggestionsDismissed:c}),v.a.createElement(_.a,{appWindow:e}))})}var Te=n(29),Ie=n(17),Ne=n(1063),Be=n(1065),Me=n(26),Ae=Object(d.c)("div",{target:"e19nv0ic0"})({name:"vavd1c",styles:"padding-top:0;/* @noflip */ padding-left:45px;"});function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=function(r){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return De(Fe(t=r.call.apply(r,[this].concat(n))||this),"ref",void 0),De(Fe(t),"setRef",function(e){t.ref=e}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){Object(Me.o)(this.props.conversation)&&this.handleShow()},t.componentDidUpdate=function(e){!Object(Me.o)(e.conversation)&&Object(Me.o)(this.props.conversation)?this.handleShow():Object(Me.o)(e.conversation)&&!Object(Me.o)(this.props.conversation)&&this.handleHide()},t.handleShow=function(){this.props.handleComposerResize(this.getHeight())},t.handleHide=function(){this.props.onHide()},t.getHeight=function(){return this.ref?this.ref.clientHeight:0},t.render=function(){var e=this.props,t=e.conversation,n=e.handleComposerResize,o=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,["conversation","handleComposerResize"]);return Object(Me.o)(t)?v.a.createElement(Ae,{ref:this.setRef},v.a.createElement(Be.a,He({isBorderless:!0,conversation:t,onHeightChange:n},o))):null},e}(p.PureComponent),Ve=n(1057),We=n(294),ze={name:"1xzanuf",styles:"margin-right:0;"},Le={name:"1v8x7dw",styles:"overflow:auto;"},Ue=Object(d.c)("div",{target:"e1my0o560"})("overflow-anchor:none;max-height:100%;padding-top:10px;padding-right:10px;margin-right:-10px;",function(e){var t=e.theme,n=e.privilegeSeparationMaxHeight;return t.privilegeSeparationEnabled&&Object(d.b)("max-height:",n,"px;")}," ",function(e){return e.enabledScroll&&Le}," ",function(e){var t=e.enabledScroll,n=e.visibleScrollbars;return t&&n&&ze}),Ge=Object(d.c)("div",{target:"e1my0o561"})({name:"l57rop",styles:"padding-bottom:10px;"}),Ye=n(86);function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=function(r){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return Ke(Xe(t=r.call.apply(r,[this].concat(n))||this),"isPartBeingAddedTimeout",void 0),Ke(Xe(t),"borderlessBodyNode",void 0),Ke(Xe(t),"visibleScrollbarsInOs",0!==Object(We.a)()),Ke(Xe(t),"state",{isPartBeingAdded:!1,bottomScrollOffset:0,frameOffsetTop:t.props.frameNode.offsetTop,adminWasTyping:!1,height:0}),Ke(Xe(t),"recalculateOffsets",function(){t.setState({frameOffsetTop:t.props.frameNode.offsetTop},function(){return Object(A.z)(t.borderlessBodyNode)})}),Ke(Xe(t),"handleScroll",function(e){t.state.isPartBeingAdded||(t.setState({bottomScrollOffset:Object(A.f)(t.borderlessBodyNode)}),t.props.closeListModals(e))}),Ke(Xe(t),"getPrivilegeSeparationMaxHeight",function(){var e=t.context.pageHeight-t.context.verticalPaddingPx+t.context.borderlessIframePaddingPx-t.context.borderlessComposerHeightPx-20;return t.context.isLauncherEnabled&&(e-=t.context.launcherOffsetBottomPaddingPx),e}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){Object(A.c)(window.parent,"resize",this.recalculateOffsets)},t.componentDidUpdate=function(e){var t=this,n=this.state.frameOffsetTop,o=this.props,r=o.conversation,i=o.frameNode,a=e.conversation,s=r.parts.length!==a.parts.length,c=Object(Ve.h)(r);(s||c&&!this.state.adminWasTyping)&&(Object(A.z)(this.borderlessBodyNode),this.setState({isPartBeingAdded:!0,bottomScrollOffset:0}),clearTimeout(this.isPartBeingAddedTimeout),this.isPartBeingAddedTimeout=setTimeout(function(){t.setState({isPartBeingAdded:!1}),Object(A.z)(t.borderlessBodyNode)},300)),i.offsetTop!==n&&this.setState({frameOffsetTop:i.offsetTop},function(){t.setState({bottomScrollOffset:Object(A.f)(t.borderlessBodyNode)})}),c!==this.state.adminWasTyping&&this.setState({adminWasTyping:c}),this.borderlessBodyNode&&this.borderlessBodyNode.clientHeight!==this.state.height&&this.setState({height:this.borderlessBodyNode.clientHeight})},t.componentWillUnmount=function(){clearTimeout(this.isPartBeingAddedTimeout),Object(A.y)(window.parent,"resize",this.recalculateOffsets)},t.getStyle=function(){var e=this.props,t=e.borderlessNode,n=e.composerHeight,o=t&&t.clientHeight,r=this.state.frameOffsetTop;if(o&&!r){var i=o/100,a=100-10/i,s="linear-gradient(to bottom, rgb(0, 0, 0), rgb(0, 0, 0) "+(100-76/i)+"%, rgba(0, 0, 0, "+Math.max(1-this.state.bottomScrollOffset/100*5,0)+") "+a+"%)";return{maxHeight:o-n-20+"px",WebkitMaskImage:s,MaskImage:s}}},t.render=function(){var t=this,e=this.getPrivilegeSeparationMaxHeight(),n=0===this.state.frameOffsetTop||this.context.privilegeSeparationEnabled&&this.state.height>e;return v.a.createElement(Ue,{style:this.getStyle(),ref:function(e){return t.borderlessBodyNode=e},onScroll:this.handleScroll,enabledScroll:n,visibleScrollbars:this.visibleScrollbarsInOs,privilegeSeparationMaxHeight:e},this.props.children())},e}(p.Component);Ke(Je,"contextType",Ye.ThemeContext);function Qe(e){var t=e.theme;return Object(d.b)("transform:translateY(4px);opacity:0;transition:all 120ms ease-out 80ms;span{display:block;background-color:#67788f;color:",t.white,";font-size:13px;height:32px;line-height:32px;padding:0 8px;border-radius:16px;cursor:pointer;background-position:center;&:hover{background-color:darken(#67788f,5%);}}",st.className,":hover &{",at,"}")}var $e=n(1072),Ze=n(605),et=n(150),tt=n(1018),nt=n(1053),ot=n(1055),rt=n(974),it=Object(d.d)("0%{opacity:0;}50%{opacity:0;}100%{opacity:1;}"),at={name:"1lh3dwn",styles:"opacity:1;transform:translateY(0);"},st=Object(d.c)("div",{target:"es6hgh10"})("z-index:",Object(E.m)(),";position:absolute;right:0;bottom:0;width:360px;max-height:100%;outline-offset:-5px;",function(e){var t=e.theme;return t.privilegeSeparationEnabled&&Object(d.b)("max-height:",function(e){var t=e.theme,n=t.pageHeight-t.verticalPaddingPx+t.borderlessIframePaddingPx;return t.isLauncherEnabled&&(n-=t.launcherOffsetBottomPaddingPx),n}({theme:t}),"px;")}," ",function(e){var t=e.theme;return e.hasComposer&&Object(d.b)("animation:",function(e){var t=e.theme;return Object(d.d)("0%{transform:translateY(",t.borderlessComposerHeightPx,"px);}20%{transform:translateY(",t.borderlessComposerHeightPx,"px);}70%{transform:translateY(",t.borderlessComposerHeightPx,"px);}100%{transform:translateY(0);}")}({theme:t})," 750ms ease;")}," ",rt.i.className,",",nt.c.className,",",ot.a.className,"{position:absolute;bottom:21px;box-shadow:",Object(d.f)("notificationBoxShadow"),";border-radius:100%;}"),ct=Object(d.c)("div",{target:"es6hgh11"})("position:absolute;right:0;bottom:0;width:",Object(d.f)("borderlessConversationWidthPx"),"px;padding:10px;padding-top:50px;animation:",it," 500ms ease;",function(e){var t=e.theme;return t.isLeftAlign&&Object(d.b)("width:",t.borderlessConversationWidthPx+t.borderlessAvatarOffsetWidthPx,"px;")}),lt=Object(d.c)("div",{target:"es6hgh12"})("z-index:",Object(E.m)(1),";position:absolute;top:0;width:",Object(d.f)("borderlessConversationWidthPx"),"px;height:40px;padding:0 10px;"),pt=Object(d.c)("div",{target:"es6hgh13"})({name:"ln0qgx",styles:"padding-top:10px;position:relative;/* @noflip */ margin-left:45px;text-align:center;"}),ut={name:"whh5e5",styles:"opacity:1;"},dt=Object(d.c)("div",{target:"es6hgh14"})(Qe," position:absolute;top:10px;/* @noflip */ right:0;span{padding-right:16px;padding-left:16px;",Object(E.b)(he.a,me.a,"8px","8px"),"}",function(e){return e.theme.tabNavigation&&ut}),ht={name:"whh5e5",styles:"opacity:1;"},ft=Object(d.c)("div",{target:"es6hgh15"})(Qe," display:inline-block;span{padding:0 20px;}",function(e){return e.theme.tabNavigation&&ht});function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bt(gt(o=r.call.apply(r,[this].concat(t))||this),"state",{isEmojiPickerOpen:!1,isGifPickerOpen:!1,headerHeight:50,partsHeight:0,suggestionsHeight:0,composerHeight:0,replyToButtonHeight:0}),bt(gt(o),"handlePartsHeightChange",function(e){o.setState({partsHeight:e},o.handleHeightChange)}),bt(gt(o),"setSuggestionsHeight",function(e){o.setState({suggestionsHeight:e},o.handleHeightChange)}),bt(gt(o),"handleQuickRepliesHide",function(){o.setState({suggestionsHeight:0},o.handleHeightChange)}),bt(gt(o),"handleComposerShow",function(e){o.setState({composerHeight:e},o.handleHeightChange)}),bt(gt(o),"handleComposerHide",function(){o.setState({composerHeight:0},o.handleHeightChange)}),bt(gt(o),"handleReplyToButtonShow",function(e){o.setState({replyToButtonHeight:e},o.handleHeightChange)}),bt(gt(o),"handleClick",function(){var e=o.state,t=e.isEmojiPickerOpen,n=e.isGifPickerOpen;t?o.setState({isEmojiPickerOpen:!1}):n&&o.setState({isGifPickerOpen:!1})}),bt(gt(o),"handleDismissClick",function(e){e.stopPropagation(),o.addCloseMetric(),o.props.onClose();var t=Object(et.e)();t&&t.focus()}),bt(gt(o),"handleEmojiPickerToggle",function(){var e=!o.state.isEmojiPickerOpen;o.setState({isEmojiPickerOpen:e}),o.props.onPopoverToggle(e)}),bt(gt(o),"handleGifPickerToggle",function(){var e=!o.state.isGifPickerOpen;o.setState({isGifPickerOpen:e}),o.props.onPopoverToggle(e)}),bt(gt(o),"handleViewMoreClick",function(){o.addViewMoreMetric(),o.props.onViewMore()}),bt(gt(o),"handleHeightChange",function(){o.props.onHeightChange(o.getHeight())}),o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){this.props.onOpen(),this.focusTrap=new Ze.a({document:this.props.frameWindow.document})},t.componentDidUpdate=function(e){var t=this.props.conversation;"all"===t.fetchState&&Object(Me.a)(t)>Object(Me.a)(e.conversation)&&this.addReplyMetric(t)},t.componentWillUnmount=function(){this.focusTrap&&this.focusTrap.restore()},t.getHeight=function(){var e=this.state;return e.headerHeight+e.partsHeight+e.composerHeight+e.suggestionsHeight+e.replyToButtonHeight+20},t.getStyle=function(){return{height:this.getHeight()}},t.hasComposer=function(){var e=this.props.conversation,t=e.parts,n=e.composerState;return"attribute_collector"===t[0].replyType||n.visible},t.shouldRenderHeader=function(){var e=this.state,t=e.isEmojiPickerOpen,n=e.isGifPickerOpen;return!(t||n)},t.addViewMoreMetric=function(){Object(D.e)("clicked","viewmore_button","borderless","",{conversation_id:this.props.conversation.id})},t.addReplyMetric=function(){var e=this.props.conversation,t=Object(Me.d)(e);Object(D.e)("received","reply","borderless","",{conversation_id:e.id,part_id:t.id,part_type:"adminReply",reply_type:t.replyType})},t.addCloseMetric=function(){Object(D.e)("closed","borderless","borderless","from_close_button",{conversation_id:this.props.conversation.id})},t.renderHeader=function(){return v.a.createElement(lt,null,v.a.createElement(pt,null,this.props.hasHistory?this.renderViewMoreButton():null,v.a.createElement(dt,{onClick:this.handleDismissClick,"aria-label":Object(f.d)("dismiss")},v.a.createElement("span",null))))},t.renderViewMoreButton=function(){return v.a.createElement(ft,{onClick:this.handleViewMoreClick},v.a.createElement("span",null,Object(f.d)("view_more")))},t.renderParts=function(){var e=this.props,t=e.appName,n=e.userRole,o=e.conversation,r=e.onArticleCardClick,i=e.onReactionSelect,a=e.onRetry,s=e.frameWindow,c=e.conversationSuggestions,l=this.state,p=l.isEmojiPickerOpen,u=l.isGifPickerOpen;return v.a.createElement(Ne.a,{isBorderless:!0,isFaded:p||u,maxHeight:0,appName:t,userRole:n,conversation:o,frameWindow:s,onArticleCardClick:r,onHeightChange:this.handlePartsHeightChange,onReactionSelect:i,onRetry:a,conversationSuggestions:c})},t.renderSuggestions=function(){var e=this.props,t=e.onSuggestionClicked,n=e.setComposerSuggestionsDismissed,o=e.conversationSuggestions,r=e.typeAheadSuggestions,i={conversation:e.conversation,setComposerSuggestionsDismissed:n,onClick:t,isBorderless:!0};return v.a.createElement(j.a,{onHeightChange:this.setSuggestionsHeight},v.a.createElement("div",null,v.a.createElement(tt.a,{errorText:"Something went wrong loading the suggestions",align:"center",style:{marginBottom:"10px"}},v.a.createElement(je.a,mt({},i,{conversationSuggestions:o})),v.a.createElement(je.a,mt({},i,{conversationSuggestions:r})))))},t.renderFooter=function(){var e=this.state,t=e.isEmojiPickerOpen,n=e.isGifPickerOpen,o=this.props,r=o.showReplyToButton,i=o.onComposerClick,a=o.conversation,s=o.frameWindow;return r&&Object(Me.o)(this.props.conversation)?v.a.createElement(F.a,{isBorderless:!0,onShow:this.handleReplyToButtonShow,onClick:i}):v.a.createElement(qe,{conversation:a,showEmojiPicker:t,showGifPicker:n,handleComposerResize:this.handleComposerShow,onHide:this.handleComposerHide,onEmojiPickerToggle:this.handleEmojiPickerToggle,onGifPickerToggle:this.handleGifPickerToggle,frameWindow:s})},t.render=function(){var n=this,e=this.props,o=e.conversation,r=e.frameNode,i=this.state.composerHeight;return v.a.createElement(st,{className:"intercom-borderless",style:this.getStyle(),onClick:this.handleClick,tabIndex:"-1",role:"region",ref:function(e){return n.borderlessNode=e},hasComposer:this.hasComposer()},this.shouldRenderHeader()?this.renderHeader():null,v.a.createElement(ct,null,v.a.createElement(V.a.Consumer,null,function(e){var t=e.closeListModals;return v.a.createElement(Je,{conversation:o,composerHeight:i,borderlessNode:n.borderlessNode,frameNode:r,closeListModals:t},function(){return v.a.createElement(Ge,null,n.renderParts(),n.renderSuggestions())})}),this.renderFooter()),v.a.createElement(_.a,{appWindow:this.props.frameWindow}))},e}(p.Component);vt.propTypes={conversation:r.a.shape({id:r.a.string.isRequired,fetchState:r.a.oneOf(["summary","partial","all"]),parts:r.a.arrayOf(r.a.shape({id:r.a.string,replyType:r.a.oneOf(["text","attribute_collector"])})).isRequired,composerState:r.a.shape({visible:r.a.bool.isRequired}).isRequired}),conversationSuggestions:r.a.shape({prompt:r.a.any,suggestions:r.a.arrayOf(r.a.shape({uuid:r.a.string.isRequired,text:r.a.string.isRequired,preAction:r.a.string}))}),typeAheadSuggestions:r.a.shape({prompt:r.a.any,suggestions:r.a.arrayOf(r.a.shape({uuid:r.a.string.isRequired,text:r.a.string.isRequired,preAction:r.a.string}))}),onSuggestionClicked:r.a.func,setComposerSuggestionsDismissed:r.a.func,appName:r.a.string.isRequired,userRole:r.a.string.isRequired,hasHistory:r.a.bool,alignment:r.a.string,onOpen:r.a.func.isRequired,onHeightChange:r.a.func.isRequired,onPopoverToggle:r.a.func.isRequired,onArticleCardClick:r.a.func.isRequired,onReactionSelect:r.a.func.isRequired,onRetry:r.a.func.isRequired,onViewMore:r.a.func.isRequired,onClose:r.a.func.isRequired,onComposerClick:r.a.func.isRequired,frameWindow:r.a.any.isRequired,showReplyToButton:r.a.bool,part:r.a.object,frameNode:r.a.object.isRequired};var yt=Object($e.a)(vt),Ot=n(52),Ct=n(1024);function wt(e){var t=e.theme,n=-t.verticalPaddingPx+t.borderlessIframePaddingPx;return t.isLauncherEnabled&&(n-=t.launcherOffsetBottomPaddingPx),t.privilegeSeparationEnabled?Object(d.b)("max-height:",t.pageHeight+n,"px;"):Object(d.b)("max-height:calc(100% + ",n,"px);")}var St=n(821),xt=n(27),jt=Object(Te.connect)(function(e,t){var n=e.app.name,o=e.user.role,r=t.part,i=t.conversation,a=Object(St.a)(e).alignment,s=i.parts.filter(function(e){return e.createdAt>=r.createdAt}),c=s[0].messageType;c=c||"adminReply",s[0]=Object.assign({},s[0],{messageType:c});var l=s.length<i.parts.length;return{appName:n,userRole:o,conversation:Object.assign({},i,{parts:s}),hasHistory:l,alignment:a}},function(n){return{onOpen:function(e){n(function(e){return{type:"OPEN_BORDERLESS_CONVERSATION",conversationId:e}}(e))},onRetry:function(e,t){n(Object(xt.p)(Ie.a,e,t))},onReactionSelect:function(e,t){n(Object(xt.k)(Ie.a,e,t,!1))},onArticleCardClick:function(e,t){return n(Object(Ct.c)(Ie.a,e,t))},onViewMore:function(e,t){n(Object(Ot.f)(e,"viewmore_borderless",t))}}},function(e,t,n){var o=e.conversation,r=o.id,i=o.lastParticipatingAdmin,a={onOpen:function(){t.onOpen(r)},onReactionSelect:function(e){t.onReactionSelect(r,e)},onRetry:function(e){t.onRetry(o,e)},onViewMore:function(){t.onViewMore(r,i)},conversation:o};return Object.assign({},e,t,n,a)})(yt),kt={name:"n7pinj",styles:"min-height:350px;"},Et=Object(d.c)(k.a,{target:"eqgwjwo0"})("z-index:",Object(E.m)(),";position:fixed;width:360px;",wt,";",function(e){var t=e.theme;return Object(d.b)("bottom:",t.verticalPaddingPx-t.borderlessIframePaddingPx,"px;right:",t.horizontalPaddingPx-t.borderlessIframePaddingPx,"px;")}," ",function(e){return e.isPopoverOpen&&kt}," ",function(e){var t=e.theme;return t.isLeftAlign&&Object(d.b)("left:",t.borderlessIframePaddingPx+t.horizontalPaddingPx-t.borderlessIframePaddingLeftPx+t.borderlessAvatarOffsetWidthPx,"px;right:auto;")}," ",function(e){var t=e.theme;return t.isLauncherEnabled&&Object(d.b)("bottom:",t.verticalPaddingPx+t.launcherOffsetBottomPaddingPx-t.borderlessIframePaddingPx,"px;")});function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _t=function(r){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return Pt(Rt(t=r.call.apply(r,[this].concat(n))||this),"state",{height:0,isPopoverOpen:!1}),Pt(Rt(t),"handleHeightChange",function(e){t.setState({height:e})}),Pt(Rt(t),"handlePopoverToggle",function(e){t.setState({isPopoverOpen:e})}),t}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var n=this,e=this.props,o=e.conversation,r=e.part,i=e.onClose,a=e.onComposerClick,s=e.showReplyToButton,c=e.conversationSuggestions,l=e.typeAheadSuggestions,p=e.onSuggestionClicked,u=e.setComposerSuggestionsDismissed,t=this.state,d=t.isPopoverOpen,h=t.height;return v.a.createElement(Et,{style:{height:h},className:"intercom-borderless-frame",frameName:"intercom-borderless-frame",title:"Intercom live chat "+Object(f.d)("message"),isPopoverOpen:d},function(e,t){return v.a.createElement(jt,{conversation:o,conversationSuggestions:c,typeAheadSuggestions:l,onSuggestionClicked:p,setComposerSuggestionsDismissed:u,part:r,frameWindow:e,onClose:i,onHeightChange:n.handleHeightChange,onPopoverToggle:n.handlePopoverToggle,onComposerClick:a,showReplyToButton:s,frameNode:t})})},e}(p.Component);function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_t.propTypes={conversation:r.a.object.isRequired,conversationSuggestions:r.a.shape({prompt:r.a.any,suggestions:r.a.arrayOf(r.a.shape({uuid:r.a.string.isRequired,text:r.a.string.isRequired,preAction:r.a.string}))}),typeAheadSuggestions:r.a.shape({prompt:r.a.any,suggestions:r.a.arrayOf(r.a.shape({uuid:r.a.string.isRequired,text:r.a.string.isRequired,preAction:r.a.string}))}),onSuggestionClicked:r.a.func,setComposerSuggestionsDismissed:r.a.func,part:r.a.object.isRequired,onClose:r.a.func.isRequired,onComposerClick:r.a.func,showReplyToButton:r.a.bool},n.d(t,"a",function(){return Nt});var Nt=function(o){function e(){for(var a,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return It(Tt(a=o.call.apply(o,[this].concat(t))||this),"addMessageMetric",function(e){var t=a.props,n=t.conversation,o=t.part,r=o.id,i=o.messageType;Object(D.e)(e,"message","in_app","from_full",{conversation_id:n.id,message_id:r,message_type:i})}),It(Tt(a),"handleDismissClick",function(){a.addMessageMetric("closed"),a.props.onClose()}),It(Tt(a),"handleComposerSuggestionClicked",function(e){var t=a.props,n=t.conversation,o=t.onSuggestionClicked;o&&o(n,e)}),a}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.componentDidMount=function(){var e=this.props,t=e.conversation,n=e.userIsPresent,o=e.onOpen,r=e.onConversationRead;o(),!t.read&&n&&r(),this.addMessageMetric("received")},t.componentDidUpdate=function(){var e=this.props,t=e.userIsPresent,n=e.conversation;t&&!n.read&&this.props.onConversationRead()},t.render=function(){var n=this,e=this.props,t=e.appWindow,o=e.conversation,r=e.part,i=e.appName,a=e.isMobile,s=e.onComposerOrFormInputClick,c=e.onReactionSelect,l=e.showUploadButton,p=e.showGifButton,u=e.shouldShowUpfrontEmailComposer,d=e.onSuggestionClicked,h=e.setComposerSuggestionsDismissed,f=e.conversationSuggestions,m=e.typeAheadSuggestions,g=r.messageType,b=r.reactionsReply;switch(g){case"adminReply":case"link":case"messengerCard":case"notificationChannels":case"attributeCollector":case"conversationRating":case"chat":return a?v.a.createElement(T,{appName:i,part:r,onClose:this.handleDismissClick,composerState:o.composerState,onComposerOrFormInputClick:s}):v.a.createElement(_t,{conversation:o,conversationSuggestions:f,typeAheadSuggestions:m,onSuggestionClicked:d,setComposerSuggestionsDismissed:h,part:r,onClose:this.handleDismissClick,showReplyToButton:u,onComposerClick:s});case"video":return v.a.createElement(_e,{conversation:o,conversationSuggestions:f,onSuggestionClicked:d,setComposerSuggestionsDismissed:h,standalone:!0,part:r,onClose:this.handleDismissClick,onComposerOrFormInputClick:s});case"note":return v.a.createElement(J,{conversationId:o.id,appName:i,message:r,reactionsReply:b,showUploadButton:l,showGifButton:p,onClose:this.handleDismissClick,onComposerClick:s,onReactionSelect:c,showReplyToButton:u});case"post":return v.a.createElement(V.a.Consumer,null,function(e){var t=e.closeListModals;return v.a.createElement(le.a,{conversationId:o.id,appName:i,message:r,reactionsReply:b,onClose:n.handleDismissClick,onComposerClick:s,onReactionSelect:c,showReplyToButton:u,closeListModals:t})});case"pointer":return v.a.createElement(ce,{appWindow:t,appName:i,message:r,conversationId:o.id,reactionsReply:b,onComposerClick:s,onReactionSelect:c,onClose:this.handleDismissClick})}},e}(p.Component);Nt.propTypes={appWindow:r.a.object,conversation:r.a.shape({id:r.a.string.isRequired,read:r.a.bool.isRequired,composerState:r.a.shape({visible:r.a.bool.isRequired}).isRequired}).isRequired,conversationSuggestions:r.a.shape({prompt:r.a.any,suggestions:r.a.arrayOf(r.a.shape({uuid:r.a.string.isRequired,text:r.a.string.isRequired,preAction:r.a.string}))}),typeAheadSuggestions:r.a.shape({prompt:r.a.any,suggestions:r.a.arrayOf(r.a.shape({uuid:r.a.string.isRequired,text:r.a.string.isRequired,preAction:r.a.string}))}),onSuggestionClicked:r.a.func,setComposerSuggestionsDismissed:r.a.func,part:r.a.shape({id:r.a.string,messageType:r.a.string,reactionsReply:r.a.shape({reactionIndex:r.a.number,reactionSet:r.a.array.isRequired})}).isRequired,appName:r.a.string.isRequired,isMobile:r.a.bool.isRequired,userIsPresent:r.a.bool.isRequired,onConversationRead:r.a.func.isRequired,onOpen:r.a.func.isRequired,onClose:r.a.func.isRequired,onComposerOrFormInputClick:r.a.func.isRequired,onReactionSelect:r.a.func.isRequired,showUploadButton:r.a.bool,showGifButton:r.a.bool,shouldShowUpfrontEmailComposer:r.a.bool}},1067:function(e,t,n){"use strict";var o=n(134),l=n.n(o),r=n(203),i=n.n(r),a=n(0),u=n.n(a),s=n(1116),c=n.n(s),p=n(78),d=n.n(p);function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(m){if(!m.IntercomIntersectionObserver){var g=m.document;if(!O.a.isFirefox()&&"IntersectionObserver"in m&&"IntersectionObserverEntry"in m&&"intersectionRatio"in m.IntersectionObserverEntry.prototype&&"isIntersecting"in m.IntersectionObserverEntry.prototype)return m.IntercomIntersectionObserver=m.IntersectionObserver,m.IntercomIntersectionObserverEntry=m.IntersectionObserverEntry,!0;var t=[];e.prototype.THROTTLE_TIMEOUT=100,e.prototype.POLL_INTERVAL=null,e.prototype.USE_MUTATION_OBSERVER=!0,e.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},e.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},e.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},e.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},e.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},e.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},e.prototype._monitorIntersections=function(){var t=this;this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(n(m,"resize",this._checkForIntersections,!0),this._observationTargets.forEach(function(e){t._monitorScrollForElement(e)}),this.USE_MUTATION_OBSERVER&&"MutationObserver"in m&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(g,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},e.prototype._monitorScrollForElement=function(e){e!==g&&e&&(n(e,"scroll",this._checkForIntersections,!0),this._monitorScrollForElement(e.parent))},e.prototype._unmonitorScrollForElement=function(e){e!==g&&e&&(o(e,"scroll",this._checkForIntersections,!0),this._unmonitorScrollForElement(e.parent))},e.prototype._unmonitorIntersections=function(){var t=this;this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(m,"resize",this._checkForIntersections,!0),this._observationTargets.forEach(function(e){t._unmonitorScrollForElement(e)}),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},e.prototype._checkForIntersections=function(){var s=this._rootIsInDom(),c=s?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(e){var t=e.element,n=b(t),o=this._rootContainsTarget(t),r=e.entry,i=s&&o&&this._computeTargetAndRootIntersection(t,c),a=e.entry=new l({time:m.performance&&performance.now&&performance.now(),target:t,boundingClientRect:n,rootBounds:c,intersectionRect:i});r?s&&o?this._hasCrossedThreshold(r,a)&&this._queuedEntries.push(a):r&&r.isIntersecting&&this._queuedEntries.push(a):this._queuedEntries.push(a)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},e.prototype._computeTargetAndRootIntersection=function(e,t){if("none"!=m.getComputedStyle(e).display){for(var n,o,r,i,a,s,c,l,p=b(e),u=v(e),d=!1;!d;){var h=null,f=1==u.nodeType?m.getComputedStyle(u):{};if("none"==f.display)return;if(u==this.root||u==g?(d=!0,h=t):u!=g.body&&u!=g.documentElement&&"visible"!=f.overflow&&(h=b(u)),h&&(n=h,o=p,void 0,r=Math.max(n.top,o.top),i=Math.min(n.bottom,o.bottom),a=Math.max(n.left,o.left),s=Math.min(n.right,o.right),l=i-r,!(p=0<=(c=s-a)&&0<=l&&{top:r,bottom:i,left:a,right:s,width:c,height:l})))break;u=v(u)}return p}},e.prototype._getRootRect=function(){var e;if(this.root)e=b(this.root);else{var t=g.documentElement,n=g.body;e={top:0,left:0,right:t.clientWidth||n.clientWidth,width:t.clientWidth||n.clientWidth,bottom:t.clientHeight||n.clientHeight,height:t.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(e)},e.prototype._expandRectByRootMargin=function(n){var e=this._rootMarginValues.map(function(e,t){return"px"==e.unit?e.value:e.value*(t%2?n.width:n.height)/100}),t={top:n.top-e[0],right:n.right+e[1],bottom:n.bottom+e[2],left:n.left-e[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},e.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,o=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==o)for(var r=0;r<this.thresholds.length;r++){var i=this.thresholds[r];if(i==n||i==o||i<n!=i<o)return!0}},e.prototype._rootIsInDom=function(){return!this.root||r(g,this.root)},e.prototype._rootContainsTarget=function(e){return r(this.root||g,e)},e.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},e.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},m.IntercomIntersectionObserver=e,m.IntercomIntersectionObserverEntry=m.IntersectionObserverEntry}function l(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,o=this.intersectionRect,r=o.width*o.height;this.intersectionRatio=n?r/n:this.isIntersecting?1:0}function e(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(e,t){var n=null;return function(){n=n||setTimeout(function(){e(),n=null},t)}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function n(e,t,n,o){null!=e&&("function"==typeof e.addEventListener?e.addEventListener(t,n,o||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n))}function o(e,t,n,o){null!=e&&("function"==typeof e.removeEventListener?e.removeEventListener(t,n,o||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n))}function b(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function r(e,t){for(var n=t;n;){if(n==e)return!0;n=v(n)}return!1}function v(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}}function g(e){var t,c=e,l=e.document,n=c.HTMLElement||c.Element,i=800,p={scroll:c.scroll||c.scrollTo,scrollBy:c.scrollBy||c.intercomScrollBy,elementScroll:d,intercomScrollIntoView:n.prototype.intercomScrollIntoView},u=c.performance&&c.performance.now?c.performance.now.bind(c.performance):Date.now,o=(t=c.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(t)?1:0);function d(e,t){this.scrollLeft=e,this.scrollTop=t}function r(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function a(e,t){return"Y"===t?e.clientHeight+o<e.scrollHeight:"X"===t?e.clientWidth+o<e.scrollWidth:void 0}function s(e,t){var n=c.getComputedStyle(e,null)["overflow"+t];return"auto"===n||"scroll"===n}function h(e){var t,n,o,r=(u()-e.startTime)/i;t=function(e){return.5*(1-Math.cos(Math.PI*e))}(r=1<r?1:r),n=e.startX+(e.x-e.startX)*t,o=e.startY+(e.y-e.startY)*t,e.method.call(e.scrollable,n,o),n===e.x&&o===e.y||c.requestAnimationFrame(h.bind(c,e))}function f(e,t,n){var o,r,i,a,s=u();a=e===l.body?(r=(o=c).scrollX||c.pageXOffset,i=c.scrollY||c.pageYOffset,p.scroll):(r=(o=e).scrollLeft,i=e.scrollTop,d),h({scrollable:o,method:a,startTime:s,startX:r,startY:i,x:t,y:n})}c.intercomScrollBy=function(){void 0!==arguments[0]&&(r(arguments[0])?p.scrollBy.call(c,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):f.call(c,l.body,~~arguments[0].left+(c.scrollX||c.pageXOffset),~~arguments[0].top+(c.scrollY||c.pageYOffset)))},n.prototype.intercomScrollIntoView=function(){if(!0!==r(arguments[0])){var e=function(e){for(var t,n,o;!1===((e=e.parentNode)===l.body)&&!1===(void 0,n=a(t=e,"Y")&&s(t,"Y"),o=a(t,"X")&&s(t,"X"),n||o););return null,e}(this),t=e.getBoundingClientRect(),n=this.getBoundingClientRect();e!==l.body?(f.call(this,e,e.scrollLeft+n.left-t.left,e.scrollTop+n.top-t.top),"fixed"!==c.getComputedStyle(e).position&&c.intercomScrollBy({left:t.left,top:t.top,behavior:"smooth"})):c.intercomScrollBy({left:n.left,top:n.top,behavior:"smooth"})}else p.intercomScrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function b(e,t){var n,o=t.element;if(!o)return e;var r=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,c=-1!==["left","right"].indexOf(r),l=c?"height":"width",p=c?"Top":"Left",u=p.toLowerCase(),d=c?"left":"top",h=c?"bottom":"right",f=Object(C.getOuterSizes)(o)[l];s[h]-f<a[u]&&(e.offsets.popper[u]-=a[u]-(s[h]-f)),s[u]+f>a[h]&&(e.offsets.popper[u]+=s[u]+f-a[h]),e.offsets.popper=Object(C.getClientRect)(e.offsets.popper);var m=s[u]+s[l]/2-f/2,g=Object(C.getStyleComputedProperty)(e.instance.popper),b=parseFloat(g["margin"+p]),v=parseFloat(g["border"+p+"Width"]),y=m-e.offsets.popper[u]-b-v;return y=Math.max(Math.min(a[l]-f-32,y),0),e.arrowElement=o,e.offsets.arrow=((n={})[u]=Math.round(y),n[d]="",n),e}var v=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return f(h(e=r.call.apply(r,[this].concat(n))||this),"document",e.props.appWindow.document),f(h(e),"state",{container:null}),e}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){var e=this.props.appWindow,t=e.document.querySelector("#intercom-container");if(e.document.body){var n=e.document.createElement("div");n.id="intercom-positioner-tree",n.classList.add("intercom-namespace"),n.style.cssText="position: initial; !important; z-index: 2147483647 !important;",t.insertAdjacentElement("beforeBegin",n),this.setState({container:n})}},t.componentWillUnmount=function(){var e=this.state.container;if(e){var t=e.parentNode;t&&t.removeChild(e)}},t.render=function(){return this.state.container?d.a.createPortal(this.props.children,this.state.container):null},e}(a.Component),y=n(19),O=n(14),C=n(1117),w=n(1049);function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(r){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return x(S(t=r.call.apply(r,[this].concat(n))||this),"eventBlockerRef",void 0),x(S(t),"stopBubbling",function(e){"click"===e.type&&t.props.onClickEvent&&t.props.onClickEvent(),e.stopPropagation()}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){var t=this;this.eventBlockerRef&&this.props.events.forEach(function(e){Object(y.c)(t.eventBlockerRef,e,t.stopBubbling)})},t.componentWillUnmount=function(){var t=this;this.eventBlockerRef&&this.props.events.forEach(function(e){Object(y.y)(t.eventBlockerRef,e,t.stopBubbling)})},t.render=function(){var t=this;return u.a.createElement("div",{className:"event-blocker",ref:function(e){return t.eventBlockerRef=e}},this.props.children)},e}(a.Component);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(n,!0).forEach(function(e){P(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return _});var _=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P(R(o=r.call.apply(r,[this].concat(t))||this),"arrow",void 0),P(R(o),"node",void 0),P(R(o),"arrowContainer",void 0),P(R(o),"positioner",void 0),P(R(o),"targetInDom",void 0),P(R(o),"IntersectionObserver",void 0),P(R(o),"missingSelectorTimeout",void 0),P(R(o),"scrollIntoViewTimeout",void 0),P(R(o),"repositionCheckTimeout",void 0),P(R(o),"mutationObserver",void 0),P(R(o),"state",{styles:null,arrowStyles:null,hide:!1,nodeInViewPort:!1,nodeIsEntirelyInViewport:!1,positionerOffsetForMask:{left:0,top:0},placement:null,maskStyles:{padding:0,top:0,left:0,width:0,height:0}}),P(R(o),"targetWithClickHandler",null),P(R(o),"updateElementPosition",function(e){var t=e.styles,n=e.arrowStyles;return o.setState({styles:t,hide:!o.targetIsVisible(),arrowStyles:n}),e.attributes&&o.applyAttributes(e.attributes),o.checkIfRepositionRequired(e),e}),P(R(o),"updateMaskPosition",function(){var e=o.getMaskStyles();i()(o.state.maskStyles,e)||o.setState({maskStyles:e})}),P(R(o),"handleOverlayClick",function(){o.scrollIntoView(),o.props.onOverlayClick&&o.props.onOverlayClick()}),P(R(o),"handleTargetClick",function(){o.props.onTargetClick&&o.props.onTargetClick()}),P(R(o),"handlePlacementChange",function(){o.props.onPlacementChange&&o.state.placement&&o.props.onPlacementChange(o.state.placement)}),P(R(o),"renderOverlay",function(){var e=o.getTargetNode();return o.props.renderOverlay(o.handleOverlayClick,o.props,e)}),o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.reinitializeObjects=function(){this.initializeIntersectionObserver(),this.initializePositioner(),this.setupTargetClickHandler()},t.componentDidMount=function(){this.initializeMuationObserver(),this.reinitializeObjects(),this.updateMaskPosition()},t.shouldComponentUpdate=function(e,t){return!i()(this.props,e)||!i()(this.state,t)},t.componentDidUpdate=function(e,t){e.targetSelector!==this.props.targetSelector?this.reinitializeObjects():this.positioner?this.positioner.scheduleUpdate():this.reinitializeObjects(),t.placement!==this.state.placement&&this.handlePlacementChange()},t.componentWillUnmount=function(){var e=this.props.appWindow;this.destroyIntersectionObserver(),this.destroyPositioner(),this.destroyTargetClickHandler(),function(e){e.IntercomIntersectionObserver&&(delete e.IntercomIntersectionObserver,delete e.IntercomIntersectionObserverEntry)}(e),function(e){var t=e;(t.HTMLElement||t.Element).prototype.intercomScrollIntoView=null,t.intercomScrollBy&&delete t.intercomScrollBy}(e),this.missingSelectorTimeout&&clearTimeout(this.missingSelectorTimeout),this.scrollIntoViewTimeout&&clearTimeout(this.scrollIntoViewTimeout),this.repositionCheckTimeout&&clearTimeout(this.repositionCheckTimeout),this.mutationObserver&&this.mutationObserver.disconnect()},t.getTargetNode=function(){var e=this.props,t=e.targetSelector,n=e.appWindow;try{return n.document.querySelector(t)}catch(e){return null}},t.setupTargetClickHandler=function(){this.destroyTargetClickHandler(),this.targetWithClickHandler=this.getTargetNode(),this.targetWithClickHandler&&Object(y.c)(this.targetWithClickHandler,"click",this.handleTargetClick,!0)},t.destroyTargetClickHandler=function(){this.targetWithClickHandler&&Object(y.y)(this.targetWithClickHandler,"click",this.handleTargetClick)},t.storeMaskOffsetsBasedOnFlipPosition=function(e){if(this.props.scrollable){var t=e["x-placement"];switch(t){case"bottom":this.setState({placement:t,positionerOffsetForMask:{left:0,top:3}});break;case"top":this.setState({placement:t,positionerOffsetForMask:{left:0,top:-3}});break;case"left":this.setState({placement:t,positionerOffsetForMask:{left:-5,top:0}});break;case"right":this.setState({placement:t,positionerOffsetForMask:{left:3,top:0}});break;default:return}}},t.applyAttributes=function(n){var e=this;[this.arrowContainer,this.node].forEach(function(t){t&&"function"==typeof t.querySelectorAll&&Object.keys(n).forEach(function(e){t&&t.setAttribute&&t.setAttribute(e,n[e])}),e.storeMaskOffsetsBasedOnFlipPosition(n)})},t.checkIfRepositionRequired=function(e){var t=this,n=e.styles,o=e.attributes;if(this.repositionCheckTimeout&&clearTimeout(this.repositionCheckTimeout),o&&!1!==o["x-out-of-boundaries"]&&n&&n.transform){var r=(n.transform.match(/(-{0,1}\d+)px/g)||[]).map(function(e){return Number(e.replace("px",""))}),i=parseInt(r[0]),a=parseInt(r[1]);i<0&&a<0&&(this.repositionCheckTimeout=setTimeout(function(){t.nodeIsVisible()&&t.reinitializeObjects()},500))}},t.targetIsVisible=function(){if(!this.state.nodeInViewPort)return!1;var e=this.getTargetNode();return Object(y.u)(e)},t.scrollIntoView=function(){var n=this,e=this.props.appWindow;g(e),this.scrollIntoViewTimeout=setTimeout(function(){var e=n.state.nodeIsEntirelyInViewport,t=n.getTargetNode();t&&!e&&t.intercomScrollIntoView({behavior:"smooth",block:"center",inline:"center"})},200)},t.initializeMuationObserver=function(){var e=this,t=this.props.appWindow;this.targetInDom=!!this.getTargetNode(),this.mutationObserver=new MutationObserver(function(){e.targetInDom&&!e.getTargetNode()&&(e.targetInDom=!1,e.destroyPositioner(),e.forceUpdate()),!e.targetInDom&&e.getTargetNode()&&(e.targetInDom=!0,e.forceUpdate()),e.updateMaskPosition()}),this.mutationObserver.observe(t.document.body,{attributes:!0,subtree:!0,childList:!0})},t.initializePositioner=function(){var e=this.props.scrollable,t=this.getTargetNode();t&&this.node&&(e&&this.scrollIntoView(),this.positioner=new c.a(t,this.node,{positionFixed:!1,placement:"auto",modifiers:{applyStyle:{enabled:!1},preventOverflow:{boundariesElement:"viewport"},arrow:{enabled:!0,element:this.arrow,fn:b},updateElementPosition:{enabled:!0,fn:this.updateElementPosition,order:900}}}))},t.initializeIntersectionObserver=function(){var s=this,e=this.props.appWindow,c=this.getTargetNode();c&&(e.IntercomIntersectionObserver||m(e),this.IntersectionObserver=new e.IntercomIntersectionObserver(function(e){if(0!==e.length){var t=l()(e,["time"],["desc"])[0],n=t.isIntersecting,o=t.intersectionRatio,r=n,i=n&&Object(y.u)(c),a=1===o;s.setState({hide:!i,nodeInViewPort:r,nodeIsEntirelyInViewport:a})}},{threshold:.05}),this.IntersectionObserver.observe(c))},t.destroyPositioner=function(){this.positioner&&(this.positioner.destroy(),delete this.positioner)},t.destroyIntersectionObserver=function(){this.IntersectionObserver&&this.IntersectionObserver.disconnect()},t.reinitializePointer=function(){this.destroyPositioner(),this.initializePositioner()},t.reinitializeIntersectionObserver=function(){this.destroyIntersectionObserver(),this.initializeIntersectionObserver()},t.mergedStyles=function(){var e=this.props.scrollable,t=this.state,n=t.styles,o=t.positionerOffsetForMask;if(!n)return{};if(!e)return n;var r=o.left,i=o.top;return E({},n,{left:n.left+r,top:n.top+i})},t.nodeIsVisible=function(){var e=this.getTargetNode();return e&&Object(y.u)(e)},t.getStyles=function(){var e=this.props.hideArrow,t=this.props.childDimensions||{},n=t.height,o=t.width,r=t.opacity,i=e?5:15;if(this.nodeIsVisible()){var a=!this.state.hide&&n&&o&&r?1:0;return this.onSelectorMatch(),E({},this.mergedStyles(),{opacity:a,margin:i})}if(this.props.renderFallback){var s=(this.props.childDimensions||{}).opacity;return this.props.targetSelector&&this.onMissingSelector(),{position:"fixed",top:"calc(50% - "+(n||0)/2+"px)",left:"calc(50% - "+(o||0)/2+"px)",opacity:s,margin:i}}},t.getArrowStyles=function(){var e=this.state,t=e.arrowStyles,n=e.hide,o=this.props.childDimensions||{},r=o.height,i=o.width,a=!n&&r&&i?1:0;return t?{top:t.top,left:t.left,opacity:a}:{opacity:a}},t.getMaskStyles=function(){var e=this.getTargetNode();if(!e||!this.props.scrollable||this.state.hide)return{padding:0,top:0,left:0,width:0,height:0};var t=e.getBoundingClientRect(),n=t.top,o=t.left,r=t.width,i=t.height,a=this.props.appWindow;return{padding:3,top:n-3+a.pageYOffset,left:o-3+a.pageXOffset,width:r,height:i}},t.renderArrow=function(){var t=this;return u.a.createElement(w.b,{style:E({},this.getArrowStyles()),ref:function(e){return t.arrow=e}},u.a.createElement(w.a,{frameName:"intercom-positioner-arrow-frame"},function(){return u.a.createElement(w.e,{style:{display:t.props.hideArrow?"none":"block"},ref:function(e){return t.arrowContainer=e}})}))},t.onMissingSelector=function(){var e=this;this.missingSelectorTimeout||(this.missingSelectorTimeout=setTimeout(function(){!e.nodeIsVisible()&&e.props.onMissingSelector&&e.props.onMissingSelector()},300))},t.onSelectorMatch=function(){this.props.onSelectorMatch&&this.props.onSelectorMatch()},t.render=function(){var t=this,e=this.props,n=e.scrollable,o=e.shouldAnimate,r=e.renderFallback,i=e.children,a=e.appWindow,s=this.getTargetNode();if(!s&&!r)return null;var c=this.state.maskStyles,l=c.width,p=c.height;return u.a.createElement(v,{appWindow:a},u.a.createElement(u.a.Fragment,null,u.a.createElement(w.g,{ref:function(e){return t.node=e},style:this.getStyles()},u.a.createElement(w.d,null,this.nodeIsVisible()?this.renderArrow():null,this.targetIsVisible()||r?i:null)),u.a.createElement(w.f,{style:c,isStep:n&&!!s,isPost:n&&!s,isAnimating:o,height:p,width:l}),u.a.createElement(j,{events:["auxclick","click","dblclick","mousedown","mouseup"],onClickEvent:function(){return t.handleOverlayClick()}},this.renderOverlay())))},e}(a.Component);P(_,"defaultProps",{hideArrow:!1,renderFallback:!1,shouldAnimate:!1,renderOverlay:function(e,t){var n=t.scrollable;return u.a.createElement(w.c,{onClick:e,scrollable:n,tabIndex:"-1"})}})},1138:function(e,t,n){e.exports=n.p+"images/video-mask.4f0cea30.svg"},1139:function(e,t,n){e.exports=n.p+"images/video-mask-right.07f09b90.svg"},1156:function(e,t,n){"use strict";n.r(t);var o=n(29),p=n(55),r=n(198),R=n(0),P=n.n(R),i=n(604),_=n.n(i),h=n(950),f=n(973),T=n(18),m=n(964),I=n(611),a=n(21),s=n(1),c={name:"isshev",styles:"padding:25px 0px;"},l=Object(s.c)("div",{target:"e1mknya50"})("position:relative;padding:8px;order:0;flex:0 1 100%;align-self:auto;display:flex;justify-content:flex-end;align-items:center;border-top:1px solid #eee;",function(e){return e.hideButton&&c}," ",function(e){return e.isVideoStep&&Object(s.b)("transition:transform 300ms cubic-bezier(0.165,0.84,0.44,1),opacity 10ms;transform:translateY(100%);margin-top:4px;border-radius:5px;position:absolute;bottom:0;left:0;right:0;border:0;opacity:0;",y.className,"{color:#fff;font-size:14px;}")}),u=Object(s.c)("div",{target:"e1mknya51"})("flex:0 1 auto;position:relative;button{font-size:14px;background-color:",Object(s.f)("appColor"),";color:white;font-weight:bold;padding:10px 20px;border-radius:4px;cursor:pointer;}button[disabled]{opacity:0.6;}",function(e){return e.animating&&Object(s.b)("animation:",d()," 500ms;")}),d=function(){return Object(s.d)("0%{",b,";}25%{",g,";}49%{",b,";}50%{",b,";}75%{",v,";}100%{",b,";}")},g={name:"1ldqog6",styles:"transform:scale(1.1);"},b={name:"41q668",styles:"transform:scale(1);"},v={name:"kp0j2p",styles:"transform:scale(1.05);"},y=Object(s.c)("div",{target:"e1mknya52"})("position:absolute;left:0;right:0;text-align:center;color:",Object(s.f)("installGrey1"),";font-size:14px;");function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(r){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return C(O(t=r.call.apply(r,[this].concat(n))||this),"button",void 0),C(O(t),"disabledButton",void 0),C(O(t),"inputFieldValidation",void 0),C(O(t),"state",{buttonIsAnimating:!1,disabledButton:!1}),C(O(t),"finishButtonAnimation",function(){t.button&&t.setState({buttonIsAnimating:!1})}),C(O(t),"validateInput",function(){t.setState({disabledButton:!0}),t.inputFieldValidation=new a.c(t.props.selector,function(e){t.setState({disabledButton:!e})}),t.inputFieldValidation.run()}),C(O(t),"handleOnContinue",function(){t.state.disabledButton||t.props.onContinue()}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){this.button&&this.button.addEventListener("animationend",this.finishButtonAnimation),"type"===this.props.progressionBehavior&&this.validateInput()},t.componentDidUpdate=function(){var e=this.props.resetOverlayClick;this.props.hasClickedOverlay&&(this.setState({buttonIsAnimating:!0}),e())},t.componentWillUnmount=function(){this.inputFieldValidation&&this.inputFieldValidation.destroy()},t.render=function(){var t=this,e="click"!==this.props.progressionBehavior;return P.a.createElement(l,{hideButton:!e,isVideoStep:this.props.isVideoStep},P.a.createElement(y,null,Object(T.d)("product_tours_tour_step_number",{start_number:this.props.activeStepIndex+1,end_number:this.props.stepCount})),e&&P.a.createElement(u,{animating:this.state.buttonIsAnimating,ref:function(e){return t.button=e}},P.a.createElement("button",{disabled:this.state.disabledButton,onClick:this.handleOnContinue,tabIndex:"0"},this.props.activeStepIndex+1===this.props.stepCount?Object(T.d)("product_tours_done"):Object(T.d)("product_tours_next"))))},e}(R.Component),w=n(968),B=n(1036),M=n(958),S=n(1138),x=n.n(S),j=n(1139),k=n.n(j),E=n(1011),A=n(986),H=n(1008),F=Object(s.c)("div",{target:"e1ggaaxy0"})("opacity:0;position:absolute;left:0;top:0;cursor:pointer;right:0;bottom:0;background:rgba(0,0,0,0.4);transition:opacity 300ms cubic-bezier(0.165,0.84,0.44,1);",E.b.className,"{right:50%;bottom:50%;margin-right:-22px;margin-bottom:-22px;background-size:44px 44px;}",M.a.className," svg > g > g{fill:",Object(s.f)("white"),";}"),D=Object(s.c)("div",{target:"e1ggaaxy1"})("mask-image:url(",x.a,");"),q=Object(s.c)("div",{target:"e1ggaaxy2"})(),V=Object(s.c)("div",{target:"e1ggaaxy3"})("position:relative;",M.a.className,"{right:8px;top:18px;}",H.a.className,"{padding:20px;padding-bottom:16px;font-weight:400;}.timeline-intercom-video-step-mask{mask-image:url('../images/video-tours-mask.svg');}",E.d.className,"{position:relative;}&:hover{",A.b.className,"{transform:translateY(28px);opacity:0;}",F.className,"{opacity:1;&.intercom-tour-step-video-overlay-hidden{opacity:0;}",l.className,"{transform:translateY(0);opacity:1;}}}",function(e){return e.videoComplete&&Object(s.b)(A.b.className,"{transform:translateY(28px);opacity:0;}",F.className,"{opacity:1;&.intercom-tour-step-video-overlay-hidden{opacity:0;}",l.className,"{transform:translateY(0);opacity:1;}}")}," ",function(e){return"right"===e.placement&&Object(s.b)(D.className,"{mask-image:url(",k.a,");transform:rotate(180deg);}",q.className,"{transform:rotate(180deg);}",l.className,"{left:10px;}",M.a.className,"{right:8px;top:8px;}",A.b.className,"{left:10px;margin-right:10px;}")}," ",function(e){return"left"===e.placement&&Object(s.b)(D.className,"{mask-image:url(",k.a,");}",l.className,"{right:10px;}",M.a.className,"{right:18px;top:8px;}",A.b.className,"{left:-10px;margin-left:10px;}")}," ",function(e){return"top"===e.placement&&Object(s.b)(q.className,"{transform:rotate(180deg);}",l.className,"{bottom:10px;}",D.className,"{transform:rotate(180deg);}",M.a.className,"{right:8px;top:8px;}",A.b.className,"{bottom:0px;padding-bottom:10px;}")});function W(e){var t=e.muted,n=e.onClick;return P.a.createElement(E.b,{muted:t,onClick:n})}var z=n(7),L=Object(z.createSelector)(p.o,p.n,function(e,t){return{muted:e,userHasInteractedWithVideo:t}}),U=Object(o.connect)(L,{changeVideoMuted:r.a})(function(e){function t(){u&&S(0),d(!u)}var n=e.block,o=n.url,r=n.captions,i=n.thumbnailUrl,a=e.placement,s=e.activeStepIndex,c=e.stepCount,l=e.onClose,p=e.onContinue,u=e.muted,d=e.changeVideoMuted,h=e.userHasInteractedWithVideo,f=e.hasClickedOverlay,m=e.resetOverlayClick,g=e.selector,b=e.progressionBehavior,v=Object(R.useState)(!0),y=v[0],O=v[1],C=Object(R.useState)(),w=C[0],S=C[1],x=Object(R.useState)(!1),j=x[0],k=x[1],E=_()("intercom-tour-step-video-overlay",{"intercom-tour-step-video-overlay-hidden":j});return P.a.createElement(V,{placement:a,videoComplete:!y},P.a.createElement(D,null,P.a.createElement(q,null,P.a.createElement(B.a,{srcUrl:o,captions:u?r:void 0,showControls:!1,onComplete:function(){O(!1)},onReplay:function(){return O(!0)},muted:u,startTime:w,loop:!h&&u,thumbnailUrl:i}),P.a.createElement(F,{className:E,onClick:function(e){e.target.classList.contains("intercom-tour-step-video-overlay")&&t(),k(!0)},onMouseMove:function(){return k(!1)}},P.a.createElement(M.a,{onClick:l,"aria-label":Object(T.d)("close")},P.a.createElement(I.a,null)),y&&P.a.createElement(W,{muted:u,onClick:t}),1<c?P.a.createElement(N,{activeStepIndex:s,stepCount:c,onContinue:p,selector:g,hasClickedOverlay:f,resetOverlayClick:m,progressionBehavior:b,isVideoStep:!0}):null))))});function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(r){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return Y(G(t=r.call.apply(r,[this].concat(n))||this),"state",{isScrolled:!1}),Y(G(t),"handleScroll",function(e){t.setState({isScrolled:0<e.target.scrollTop})}),Y(G(t),"handleOnCloseClick",function(){t.props.onStop()}),t}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.getClassNames=function(){return _()({"intercom-tour-step":!0,"intercom-tour-step-pointer":this.isPointer(),"intercom-tour-step-post":!this.isPointer()})},t.calculateWidth=function(){var e=this.props.appWindow.innerWidth;return Math.min(624,e)-80},t.isPointer=function(){return!!this.props.selector},t.getStyles=function(){if(!this.isPointer())return{width:this.calculateWidth()+"px"}},t.onLoad=function(){this.props.onLoad&&this.props.onLoad()},t.componentDidUpdate=function(e){this.props.step.id!==e.step.id&&this.onLoad()},t.componentDidMount=function(){this.props.onLoad()},t.renderVideoTourStep=function(){var e=this.props,t=e.onContinue,n=e.activeStepIndex,o=e.stepCount,r=e.placement,i=e.selector,a=e.step,s=a.blocks,c=a.progressionBehavior,l=e.hasClickedOverlay,p=e.resetOverlayClick;return r?P.a.createElement(U,{block:s[0],placement:r,activeStepIndex:n,stepCount:o,selector:i,onClose:this.handleOnCloseClick,onContinue:t,hasClickedOverlay:l,resetOverlayClick:p,progressionBehavior:c}):null},t.renderTourStep=function(){var e=this.props,t=e.onContinue,n=e.activeStepIndex,o=e.stepCount,r=e.author,i=e.appName,a=e.selector,s=e.step,c=s.blocks,l=s.progressionBehavior,p=s.id,u=e.hasClickedOverlay,d=e.resetOverlayClick;return P.a.createElement(m.a,{appName:i,isReplyStyle:!1,author:r},P.a.createElement("div",{className:"intercom-tour-step-header"},P.a.createElement(M.a,{onClick:this.handleOnCloseClick,"aria-label":Object(T.d)("close")},P.a.createElement(I.a,null))),P.a.createElement(M.b,{className:"intercom-tour-step-content"},P.a.createElement(f.a,{onScroll:this.handleScroll},P.a.createElement(h.a,{blocks:c,key:"tour-step-block-"+p}))),1<o?P.a.createElement(N,{activeStepIndex:n,stepCount:o,onContinue:t,selector:a,progressionBehavior:l,hasClickedOverlay:u,resetOverlayClick:d,isVideoStep:!1}):null)},t.render=function(){var e=this.props.step.blocks,t=this.state.isScrolled,n=this.isPointer();return P.a.createElement(M.c,{className:this.getClassNames(),style:this.getStyles(),isPointer:n,isPost:!n,scrolled:t},Object(w.b)(e)?this.renderVideoTourStep():this.renderTourStep())},e}(R.Component),K=n(303),J=n(1067),Q=n(35),$=Object(s.c)("div",{target:"ekepq2u0"})("position:absolute;z-index:",Object(Q.m)(),";");function Z(e){var t=e.onClick,n=e.appWindow,o=function(e,t){var n=e.getBoundingClientRect(),o=n.left,r=n.right,i=n.top,a=n.bottom,s=t.pageXOffset,c=t.pageYOffset;return{left:o+=s,right:r+=s,top:i+=c,bottom:a+=c}}(e.targetNode,n),r=o.left,i=o.right,a=o.top,s=o.bottom,c=function(e){var t=e.body,n=e.documentElement;return t&&n?Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight):0}(n.document);return P.a.createElement(P.a.Fragment,null,P.a.createElement($,{style:{top:0,left:0,right:0,height:a},tabIndex:"none",onClick:t}),P.a.createElement($,{style:{top:a,left:0,width:r,height:s-a},tabIndex:"none",onClick:t}),P.a.createElement($,{style:{top:a,left:i,right:0,height:s-a},tabIndex:"none",onClick:t}),P.a.createElement($,{style:{top:s,left:0,right:0,bottom:0,height:c-s},tabIndex:"none",onClick:t}))}var ee=n(202),te={name:"1j1kj5x",styles:"border:none;box-shadow:none;"},ne=Object(s.c)(ee.a,{target:"e1s9bqu40"})("z-index:",Object(Q.m)(1),";border-radius:5px;box-shadow:0 3px 32px 0 rgba(0,0,0,0.14);border:1px solid rgba(0,0,0,0.1);",function(e){return e.isVideo&&te}),oe=n(6);function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(n,!0).forEach(function(e){se(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=function(o){function e(){for(var i,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return se(ae(i=o.call.apply(o,[this].concat(t))||this),"state",{width:0,height:0,opacity:0,placement:null,hasClickedOverlay:!1,recordFailureStats:!1}),se(ae(i),"handleDimensionFrameSize",function(e){var t=e.height,n=e.width;i.setState({width:n,height:t,opacity:1})}),se(ae(i),"trackingKey",function(e){return i.props.isPreviewingTour?e+"_preview":e}),se(ae(i),"handleOnTourContinue",function(){var e=i.props,t=e.onContinue,n=e.activeStepIndex,o=e.stepCount;i.setState({opacity:0,recordFailureStats:!1}),t();var r=n+1===o?"done":"next";Object(oe.e)("clicked",r,i.trackingKey("tour"),null,i.trackingMetadata())}),se(ae(i),"handleOnTourStop",function(){var e=i.props.onStop;Object(oe.e)("clicked","stop",i.trackingKey("tour"),null,i.trackingMetadata()),i.setState({opacity:0,recordFailureStats:!1}),e()}),se(ae(i),"handleMissingCssSelector",function(){var e=i.props,t=e.activeStep,n=e.onFailure,o=e.isPreviewingTour;t.selector&&(Object(oe.e)("css_selector_match_failed",i.trackingKey("tour_step"),"positioner",null,ie({},i.trackingMetadata(),{},i.activeStepSelectorMetadata())),!o&&i.state.recordFailureStats&&n())}),se(ae(i),"handleTourStepLoad",function(){var e=i.props,t=e.stepCount,n=e.activeStepIndex,o=e.onComplete;n+1===t&&o(),i.setState({recordFailureStats:!0}),Object(oe.e)("viewed",i.trackingKey("tour_step"),"tour",null,i.trackingMetadata())}),se(ae(i),"handleOverlayClick",function(){Object(oe.e)("clicked",i.trackingKey("outside_tour_step"),"tour",null,i.trackingMetadata()),i.setState({hasClickedOverlay:!0})}),se(ae(i),"resetOverlayClick",function(){i.setState({hasClickedOverlay:!1})}),se(ae(i),"handleTargetClick",function(){i.isClickToProgress()&&i.handleOnTourContinue()}),se(ae(i),"handlePlacementChange",function(e){i.setState({placement:e})}),se(ae(i),"isClickToProgress",function(){return"click"===i.props.activeStep.progressionBehavior}),se(ae(i),"needsInteractionWithElement",function(){var e=i.props.activeStep.progressionBehavior;return"click"===e||"type"===e}),se(ae(i),"getOverlayRenderer",function(){if(i.needsInteractionWithElement())return i.clickToProgressOverlayRenderer}),se(ae(i),"clickToProgressOverlayRenderer",function(e,t,n){var o=t.appWindow;return n?P.a.createElement(Z,{onClick:e,targetNode:n,appWindow:o}):null}),i}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.getChildDimensions=function(){var e=this.state;return{width:e.width,height:e.height,opacity:e.opacity}},t.getFrameDimensions=function(){var e=this.state;return{width:e.width,height:e.height}},t.trackingMetadata=function(){var e=this.props,t=e.activeTourId,n=e.activeStep,o=e.activeStepIndex,r=e.stepCount;return{tour_id:t,tour_step_id:n.id,active_step_index:o,step_count:r}},t.activeStepSelectorMetadata=function(){var e=this.props.activeStep,t=!1;if(e.selectors.auto_secondary)try{t=null!=window.parent.document.querySelector(e.selectors.auto_secondary)}catch(e){}return ie({},e.selectors,{secondary_currently_matches:t})},t.render=function(){var e=this,t=this.props,n=t.appWindow,o=t.appName,r=t.author,i=t.activeStep,a=t.stepCount,s=t.activeStepIndex,c=t.isAwaitingProgress,l=this.state.placement,p=Object(w.b)(i.blocks);return P.a.createElement(J.a,{appWindow:n,scrollable:!0,targetSelector:i.selector,childDimensions:this.getChildDimensions(),renderFallback:!c,key:"tour-step-"+i.id,onMissingSelector:this.handleMissingCssSelector,onOverlayClick:this.handleOverlayClick,onTargetClick:this.handleTargetClick,onPlacementChange:this.handlePlacementChange,hideArrow:p||!i.selector,renderOverlay:this.getOverlayRenderer(),shouldAnimate:this.isClickToProgress()},P.a.createElement(ne,{style:this.getFrameDimensions(),frameName:"intercom-tour-frame",className:"intercom-tour-frame",title:"Intercom live chat "+Object(T.d)("tour"),isVideo:p},function(){return P.a.createElement(K.a,{id:"tour-frame",key:"tour-frame",onChange:e.handleDimensionFrameSize},P.a.createElement(X,{appWindow:n,appName:o,author:r,step:i,activeStepIndex:s,stepCount:a,selector:i.selector,onLoad:e.handleTourStepLoad,onContinue:e.handleOnTourContinue,onStop:e.handleOnTourStop,placement:l,hasClickedOverlay:e.state.hasClickedOverlay,resetOverlayClick:e.resetOverlayClick}))}))},e}(R.PureComponent);n.d(t,"mapStateToProps",function(){return le}),n.d(t,"mapDispatchToProps",function(){return pe});var le=function(e){var t=Object(p.c)(e),n=Object(p.f)(e),o=Object(p.e)(e),r=Object(p.d)(e),i=Object(p.a)(e),a=Object(p.i)(e),s=Object(p.b)(e),c=Object(p.h)(e),l=e.app.name;return{activeTourId:t.id,activeStep:n,activeStepIndex:o,stepCount:r,appName:l,author:i,isPreviewingTour:a,endTourAnimation:s,isAwaitingProgress:c}},pe=function(e){return{onContinue:function(){e(Object(r.e)())},onStop:function(){e(Object(r.j)())},onComplete:function(){e(Object(r.c)())},onFailure:function(){e(Object(r.f)())}}};t.default=Object(o.connect)(le,pe)(ce)},1157:function(e,t,n){"use strict";n.r(t);var O=n(0),C=n.n(O),o=n(303),r=n(29),a=n(17),i=n(23),s=n.n(i),w=n(26),c=n(951),l=n(964),p=n(960),u=n(1016),d=n(178),h=n(968),f=n(1025),m=n(389),g=n(989),b=n(1044),S=n(6);function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y(v(o=r.call.apply(r,[this].concat(t))||this),"addSnippetMetric",function(e){var t=o.props.conversation,n=Object(w.r)(t);Object(S.e)(e,"snippet","in_app","",{conversation_id:t.id,part_id:n.id,part_type:n.messageType})}),y(v(o),"addClickedMetric",function(){o.addSnippetMetric("clicked")}),y(v(o),"handleClick",function(){var e=o.props,t=e.conversation,n=e.onClick;o.addClickedMetric(),n(t)}),o}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r);var t=e.prototype;return t.componentDidMount=function(){this.addSnippetMetric("received")},t.shouldRenderChatStyle=function(){var e=this.props,t=e.conversation,n=e.stack;return(Object(w.j)(t)||Object(w.i)(t))&&!n},t.getConversationParts=function(){return this.props.conversation.parts.filter(function(e){return!1===Object(m.a)(e.partType)})},t.renderBody=function(e){if(1===e.length&&Object(h.c)(e[0]))return C.a.createElement(f.a,{text:Object(d.d)(e[0])});var t=Object(d.e)(this.getConversationParts()).summaryText;return C.a.createElement(c.a,{text:t})},t.renderPlainStyle=function(e,t,n,o){return C.a.createElement(g.a,null,C.a.createElement(b.f,{className:"intercom-snippet",onClick:this.handleClick},C.a.createElement(l.a,{appName:n,author:e,isReplyStyle:o},C.a.createElement(b.e,null,this.renderBody(t)))))},t.renderChatStyle=function(e,t,n,o){return C.a.createElement(g.a,null,C.a.createElement(b.d,{className:"intercom-chat-snippet",onClick:this.handleClick},C.a.createElement(b.a,null,C.a.createElement(p.a,{author:e})),C.a.createElement(b.c,null,C.a.createElement(u.a,{author:e,appName:n,isReplyStyle:o}),C.a.createElement(b.b,null,this.renderBody(t)))))},t.render=function(){var e=this.props,t=e.appName,n=e.conversation.userParticipated,o=Object(w.d)(this.props.conversation);if(!o)return null;var r=o.author,i=o.body;return this.shouldRenderChatStyle()?this.renderChatStyle(r,i,t,n):this.renderPlainStyle(r,i,t,n)},e}(O.Component);x.defaultProps={stack:!1},x.propTypes={conversation:s.a.shape({id:s.a.any.isRequired,parts:s.a.arrayOf(s.a.shape({author:s.a.object.isRequired,body:s.a.array.isRequired})).isRequired,userParticipated:s.a.bool.isRequired}).isRequired,appName:s.a.string.isRequired,stack:s.a.bool.isRequired,onClick:s.a.func.isRequired};var j=n(1),k=n(962),E="cubic-bezier(0.165, 0.84, 0.44, 1)",R=Object(j.d)("0%{opacity:0;transform:translateY(20px);}30%{opacity:1;}100%{opacity:1;transform:translateY(0);}"),P=Object(j.c)("div",{target:"e1d2cwfh0"})("padding:0 ",5,"px;"),_={name:"1fcc2f6",styles:"box-shadow:0 2px 8px 0 rgba(35,47,53,0.2);"},T=Object(j.c)("div",{target:"e1d2cwfh1"})("position:relative;height:",Object(j.e)("height"),"px;width:",340,"px;max-width:100%;padding-bottom:",10,"px;",k.b.className,"{height:",120,"px;",function(e){return e.theme.isMobile&&_},";}",g.a.className,"{animation:",R," 0.25s ",E,";}"),I=Object(j.c)("div",{target:"e1d2cwfh2"})("box-sizing:border-box;position:absolute;bottom:",10,"px;width:100%;backface-visibility:hidden;transform-origin:top center;transition:transform ",300,"ms ",E,";",function(e){return 2===e.position&&Object(j.b)("transform:translate3d(0,-",7,"px,0) scale(0.95);")}," ",function(e){return 3===e.position&&Object(j.b)("transform:translate3d(0,-",14,"px,0) scale(0.9);")}," ",function(e){var t=e.position,n=e.expanded;return 2===t&&n&&Object(j.b)("transition-delay:150ms;transform:translate3d(0,-",130,"px,0) scale(1);")}," ",function(e){var t=e.position,n=e.expanded;return 3===t&&n&&Object(j.b)("transition-delay:150ms;transform:translate3d(0,-",260,"px,0) scale(1);")}),N=Object(j.c)("div",{target:"e1d2cwfh3"})("padding-top:",10,"px;:after{content:'';clear:both;display:table;}",g.b.className,"{transition:opacity ",200,"ms ",E,";",function(e){return e.expandAnimationInProgress&&Object(j.b)("transition-delay:",300,"ms;")},"}");function B(e){var t=e.conversation,n=e.appName,o=e.position,r=e.expanded,i=e.handleOnClick,a=e.stack;return C.a.createElement(I,{position:o,expanded:r,key:t.id},C.a.createElement(x,{conversation:t,appName:n,onClick:i,stack:a}))}var M,A,H={name:"1v8x7dw",styles:"overflow:auto;"},F=Object(j.c)("div",{target:"e106pw6f0"})("max-height:",Object(j.e)("maxHeight"),"px;",function(e){return e.scroll&&H}),D=n(19),q=n(86),V=function(e,t){if(t.privilegeSeparationEnabled){var n=t.pageHeight-t.verticalPaddingPx+t.borderlessIframePaddingPx;return t.isLauncherEnabled&&(n-=t.launcherOffsetBottomPaddingPx),n}return e.offsetTop+e.clientHeight};function W(e){var t=e.frameNode,n=e.children,o=e.keepScrollToBottom,r=e.scrollToBottomWithAnimation,i=Object(O.useContext)(q.ThemeContext),a=V(t,i),s=Object(O.useRef)(null),c=Object(O.useState)(!1),l=c[0],p=c[1];return Object(O.useEffect)(function(){return o&&s.current&&function e(){s.current&&Object(D.z)(s.current),M=window.parent.requestAnimationFrame(e)}(),function(){return window.parent.cancelAnimationFrame(M)}},[o]),Object(O.useEffect)(function(){r&&s.current&&Object(D.e)(s.current)},[r]),Object(O.useEffect)(function(){return A=setTimeout(function(){return p(!0)},300),function(){clearTimeout(A),window.parent.cancelAnimationFrame(M)}},[]),C.a.createElement(F,{maxHeight:a,ref:s,scroll:l},n)}var z,L,U,G=n(14);function Y(e){function t(e){var t=s.map(function(e){return e.id});h(e),function(e){Object(S.e)("hovered","message","in_app","from_grouped_message",{conversation_ids:e.join(",")})}(t),e?(clearTimeout(U),y(!0),z=setTimeout(function(){return g(c)},1),L=setTimeout(function(){return y(!1)},300)):U=setTimeout(function(){return g(l)},300)}var n=e.conversations,o=e.appName,r=e.handleOnClick,i=e.children,a=e.frameNode,s=n.filter(function(e){return!!Object(w.d)(e)}),c=130*s.length,l=130+7*(s.length-1),p=Object(G.i)(),u=Object(O.useState)(!1),d=u[0],h=u[1],f=Object(O.useState)(l),m=f[0],g=f[1],b=Object(O.useState)(!1),v=b[0],y=b[1];return Object(O.useEffect)(function(){return function(){clearTimeout(z),clearTimeout(L),clearTimeout(U)}},[]),C.a.createElement(W,{frameNode:a,keepScrollToBottom:v,scrollToBottomWithAnimation:!d},C.a.createElement(P,{onMouseEnter:function(){return!p&&t(!0)},onMouseLeave:function(){return!p&&t(!1)},onFocus:function(){return!p&&t(!0)},"aria-expanded":d},C.a.createElement(N,{expandAnimationInProgress:v},i),C.a.createElement(T,{height:m},s.map(function(e,t){return C.a.createElement(B,{key:t,conversation:e,appName:o,position:function(e,t){return e-t}(s.length,t),expanded:d,handleOnClick:r,stack:1<s.length})}))))}var X=n(18),K=n(826),J=n(605),Q=n(150);var $=function(o){function e(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r=o.call.apply(o,[this].concat(t))||this),"handleDismiss",function(){var e=r.props,t=e.onNotificationDismiss,n=e.conversations.map(function(e){return e.id});r.addDismissMetrics(n),t(n);var o=Object(Q.e)();o&&o.focus()}),r}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,o);var t=e.prototype;return t.componentDidMount=function(){var e=this.props.onDisplayNotifications,t=this.getSortedConversations();this.focusTrap=new J.a({document:this.props.frameWindow.document}),e(t)},t.componentWillUnmount=function(){this.focusTrap&&this.focusTrap.restore()},t.addDismissMetrics=function(e){e.forEach(function(e){Object(S.e)("closed","message","in_app","from_snippet",{conversation_id:e})})},t.getSortedConversations=function(){return this.props.conversations.slice(-3).sort(function(e,t){return e.lastPartCreatedAt>t.lastPartCreatedAt})},t.renderDismissButton=function(){var e=1===this.props.conversations.length?Object(X.d)("clear"):Object(X.d)("clear_all");return C.a.createElement(g.b,{onClick:this.handleDismiss,visibleDismissButton:Object(G.i)()},e,C.a.createElement(g.c,null))},t.renderConversationsGrouped=function(){var e=this.props,t=e.appName,n=e.onNotificationClick,o=e.frameNode,r=this.getSortedConversations();return C.a.createElement(Y,{conversations:r,appName:t,handleOnClick:n,frameNode:o},0<r.length?this.renderDismissButton():null)},t.render=function(){var e=this.props.frameWindow;return C.a.createElement(g.d,{className:"intercom-notifications"},this.renderConversationsGrouped(),C.a.createElement(K.a,{appWindow:e}))},e}(O.Component);$.propTypes={appName:s.a.string.isRequired,frameNode:s.a.any.isRequired,frameWindow:s.a.any.isRequired,conversations:s.a.array.isRequired,onNotificationClick:s.a.func.isRequired,onNotificationDismiss:s.a.func.isRequired,onDisplayNotifications:s.a.func.isRequired};var Z=n(27),ee=n(52),te=n(289),ne=n(306),oe=n(221),re=Object(r.connect)(function(e){return{appName:e.app.name,conversations:Object(oe.a)(e)}},function(i){return{onNotificationClick:function(e){var t=e.id,n=e.parts,o=n[n.length-1],r=o.messageType;-1<[void 0,"chat","link","notificationChannels","video"].indexOf(r)?(i(Object(ee.g)(t)),i(Object(Z.l)(a.a,t))):i(Object(te.b)(t,o.id))},onNotificationDismiss:function(e){i(Object(ne.b)(a.a,e))},onDisplayNotifications:function(e){e.forEach(function(e){var t=e.id,n=e.parts,o=n[n.length-1];i(Object(te.c)(t,o.id))})}}})($),ie=n(202),ae=n(35),se=Object(j.c)(ie.a,{target:"e1gfsz3r0"})("position:fixed;z-index:",Object(ae.m)(),";",function(e){var t=e.theme;return Object(j.b)("bottom:",Object(ae.k)({theme:t})-10,"px;right:",t.horizontalPaddingPx-5,"px;")}," ",function(e){var t=e.width,n=e.height;return Object(j.b)("width:",t+10,"px;height:",n+5,"px;")}," ",function(e){var t=e.theme;return t.isLeftAlign&&Object(j.b)("left:",t.horizontalPaddingPx-5,"px;right:auto;")});function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",function(){return pe});var pe=function(r){function e(){for(var o,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return le(ce(o=r.call.apply(r,[this].concat(t))||this),"state",{width:0,height:0}),le(ce(o),"handleMeasurementChange",function(e){var t=e.width,n=e.height;o.setState({width:t,height:n})}),o}return function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(e,r),e.prototype.render=function(){var n=this;return C.a.createElement(se,{frameName:"intercom-notifications-frame",title:"Intercom live chat "+Object(X.d)("message"),width:this.state.width,height:this.state.height},function(e,t){return C.a.createElement(o.a,{onChange:n.handleMeasurementChange},C.a.createElement(re,{frameWindow:e,frameNode:t}))})},e}(O.Component)},1164:function(e,t,n){"use strict";n.r(t);var o=n(29),r=n(23),i=n.n(r),a=n(0),s=n.n(a),c=n(117),l=n(1043);var p=function(e){function t(){return e.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.isFetching,n=e.isFetched,o=e.onFetch;t||n||o()},n.render=function(){var e=this.props;return s.a.createElement(c.TransitionGroup,null,e.isFetched?s.a.createElement(c.CSSTransition,{classNames:"intercom-message",timeout:{enter:200,exit:200}},s.a.createElement(l.a,e)):null)},t}(a.Component);p.propTypes={isFetching:i.a.bool.isRequired,isFetched:i.a.bool.isRequired,onFetch:i.a.func.isRequired};var u=n(17),d=n(27),h=n(311),f=n(26);n.d(t,"mapStateToProps",function(){return m}),n.d(t,"mapDispatchToProps",function(){return g}),n.d(t,"mergeProps",function(){return b});var m=function(e){var t=Object(h.a)(e)[0];return{isFetching:t.isFetching,isFetched:!Object(f.m)(t),conversation:t}},g=function(t){return{onFetch:function(e){t(Object(d.l)(u.a,e))}}},b=function(e,t,n){return Object.assign({},e,t,n,{onFetch:function(){t.onFetch(e.conversation.id)}})};t.default=Object(o.connect)(m,g,b)(p)},1165:function(e,t,n){"use strict";n.r(t);var o=n(29),r=n(1064),i=n(1043),l=n(63),p=n(14),a=n(17),s=n(52),c=n(27),u=n(817),d=n(897);n.d(t,"mapStateToProps",function(){return h});var h=function(e){var t=e.user.isPresent,n=e.app,o=n.name,r=n.userConversationAttachmentsEnabled,i=n.userConversationGifsEnabled,a=Object(d.a)(e),s=a[0],c=p.a.isMobileBrowser();return{appName:o,conversation:s,part:a[0].parts[0],userIsPresent:t,isMobile:c,showUploadButton:r,showGifButton:i,shouldShowUpfrontEmailComposer:Object(l.g)(e),isUpfrontEmailComposerShowing:e.app.upfrontEmailCollection.upfrontEmailCollectorShowing}};t.default=Object(o.connect)(h,function(n){return{onOpen:function(e,t){n(function(e,t){return{type:"OPEN_POINTER_MESSAGE",conversationId:e,partId:t}}(e,t))},onClose:function(e){n({type:"CLOSE_POINTER_MESSAGE"}),n(Object(u.a)(e))},onConversationRead:function(e){n(Object(c.n)(a.a,e))},onComposerOrFormInputClick:function(e){n({type:"CLOSE_POINTER_MESSAGE"}),n(Object(u.a)(e)),n(Object(s.g)(e)),n(Object(c.l)(a.a,e))},onReactionSelect:function(e,t){n(Object(c.k)(a.a,e,t,!1))}}},i.b)(r.a)}}]);